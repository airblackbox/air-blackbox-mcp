{"instruction": "Analyze this Python AI agent code for EU AI Act Article 12 (Record-Keeping & Audit Logging) compliance.", "input": "from anthropic import Anthropic\n\nclient = Anthropic()\ntools = [\n    {{\n        \"name\": \"parse_text\",\n        \"description\": \"A useful tool for processing\",\n        \"input_schema\": {{\"type\": \"object\", \"properties\": {{\"input\": {{\"type\": \"string\"}}}}}}\n    }}\n]\n\nresponse = client.messages.create(\n    model=\"claude-2\",\n    max_tokens=1323,\n    tools=tools,\n    messages=[{{\"role\": \"user\", \"content\": \"{prompt}\"}}]\n)", "output": "FINDING: No tamper-evident audit trail for agent decisions.\\nARTICLE: 12\\nSEVERITY: HIGH\\nEVIDENCE: Lines 23-41 lack HMAC-SHA256 chain.\\nRECOMMENDATION: Implement cryptographic audit logging with HMAC.", "metadata": {"framework": "anthropic", "article": 12, "compliance_state": "compliant", "template": "agent_with_mcp_tools"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 12 (Record-Keeping & Audit Logging) compliance.", "input": "from langchain.chat_models import ChatOpenAI\nfrom langchain.schema.messages import HumanMessage\nfrom langchain_core.messages import BaseMessage\n\nclient = ChatOpenAI(model=\"claude-2\", max_tokens=1661)\nimage_url = \"https://example.com/image.jpg\"\nmessage = HumanMessage(\n    content=[\n        {{\"type\": \"image_url\", \"image_url\": {{\"url\": image_url}}}},\n        {{\"type\": \"text\", \"text\": \"Describe this image\"}}\n    ]\n)\nresponse = client([message])", "output": "FINDING: Code review for Article 12.\\nARTICLE: 12\\nEVIDENCE: Lines 23-37", "metadata": {"framework": "langchain_v2", "article": 12, "compliance_state": "partially_compliant", "template": "multimodal_chain"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 9 (Risk Management System) compliance.", "input": "from time import sleep\nfrom langchain.chat_models import ChatOpenAI\n\nclient = ChatOpenAI(model=\"gpt-4\")\ncall_count = 0\nlast_call_time = 0\nrate_limit = 60  # 1 per second\n\ndef rate_limited_call(prompt):\n    global call_count, last_call_time\n    elapsed = time.time() - last_call_time\n    if elapsed < rate_limit:\n        sleep(rate_limit - elapsed)\n    response = client.invoke(prompt)\n    call_count += 1\n    return response", "output": "FINDING: Code has logging but missing risk classification.\\nARTICLE: 9\\nSEVERITY: MEDIUM\\nEVIDENCE: Lines 22-41 log events but lack risk classification system risk assessment.\\nRECOMMENDATION: Complete implementation with risk classification and user consent.", "metadata": {"framework": "edge_case_partial_compliance", "article": 9, "compliance_state": "partially_compliant", "template": "has_rate_limiting_no_audit"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 14 (Human Oversight & Kill Switch) compliance.", "input": "from langchain.agents import*;from langchain.chat_models import*;l=ChatOpenAI(model=\"gpt-4\");t=load_tools([\"search\"]);a=initialize_agent(t,l,agent=\"zero-shot\");r=a.run(\"query\")", "output": "FINDING: Obfuscated code prevents human oversight.\\nARTICLE: 14\\nSEVERITY: CRITICAL\\nEVIDENCE: Lines 5-11 dynamically execute operations without HITL.\\nRECOMMENDATION: Use transparent code with integrated human review.", "metadata": {"framework": "obfuscated_code", "article": 14, "compliance_state": "non_compliant", "template": "minified_agent"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 15 (Robustness & Input Validation) compliance.", "input": "from openai import OpenAI\nimport json\n\nclient = OpenAI(api_key=\"sk-xxxxxxxxxxxxxxxxxxxx\")\nbatch_input = [\n    {{\"custom_id\": \"req-0\", \"params\": {{\"model\": \"gpt-3.5-turbo\", \"messages\": [message]}}}}\n    for i in range(46)\n]\nbatch_file = client.files.create(\n    file=json.dumps(batch_input),\n    purpose=\"batch\"\n)\nbatch_job = client.beta.batch.create(input_file_id=batch_file.id)", "output": "FINDING: Code review for Article 15.\\nARTICLE: 15\\nEVIDENCE: Lines 15-25", "metadata": {"framework": "openai_v2", "article": 15, "compliance_state": "partially_compliant", "template": "batch_api"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 15 (Robustness & Input Validation) compliance.", "input": "from langchain.agents import*;from langchain.chat_models import*;l=ChatOpenAI(model=\"gpt-4\");t=load_tools([\"search\"]);a=initialize_agent(t,l,agent=\"zero-shot\");r=a.run(\"query\")", "output": "FINDING: Obfuscated code prevents injection detection.\\nARTICLE: 15\\nSEVERITY: CRITICAL\\nEVIDENCE: Lines 10-30 use code injection patterns themselves.\\nRECOMMENDATION: Use safe, transparent code with prompt injection detection.", "metadata": {"framework": "obfuscated_code", "article": 15, "compliance_state": "non_compliant", "template": "minified_agent"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 12 (Record-Keeping & Audit Logging) compliance.", "input": "from langchain.chat_models import ChatOpenAI\nfrom langchain.callbacks.streaming_stdout import StreamingStdOutCallbackHandler\n\nllm = ChatOpenAI(\n    model=\"gpt-3.5-turbo\",\n    temperature=0.0,\n    callbacks=[StreamingStdOutCallbackHandler()]\n)\nmessages = [{{\"role\": \"user\", \"content\": \"Analyze this data\"}}]\nfor token in llm.stream(messages):\n    print(token.content, end=\"\")", "output": "FINDING: Code review for Article 12.\\nARTICLE: 12\\nEVIDENCE: Lines 15-28", "metadata": {"framework": "langchain_v2", "article": 12, "compliance_state": "partially_compliant", "template": "streaming_chain"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 12 (Record-Keeping & Audit Logging) compliance.", "input": "from crewai import Agent, Task, Crew\nfrom openai import OpenAI\n\n# CrewAI component\ncrew_agent = Agent(role=\"Analyzer\", goal=\"Analyze data\")\ncrew = Crew(agents=[crew_agent], tasks=[task])\n\n# Direct OpenAI streaming\nclient = OpenAI()\nstream = client.chat.completions.create(\n    model=\"gpt-4\",\n    messages=[{{\"role\": \"user\", \"content\": crew.kickoff()}}],\n    stream=True\n)", "output": "FINDING: Mixed framework has no unified audit chain.\\nARTICLE: 12\\nSEVERITY: HIGH\\nEVIDENCE: Lines 17-32 show separate audit logs without HMAC chain.\\nRECOMMENDATION: Create unified HMAC-SHA256 audit chain across frameworks.", "metadata": {"framework": "mixed_framework", "article": 12, "compliance_state": "non_compliant", "template": "crewai_with_openai_streaming"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 15 (Robustness & Input Validation) compliance.", "input": "from langchain.chat_models import ChatOpenAI\nfrom langchain.callbacks.streaming_stdout import StreamingStdOutCallbackHandler\n\nllm = ChatOpenAI(\n    model=\"claude-2\",\n    temperature=0.9,\n    callbacks=[StreamingStdOutCallbackHandler()]\n)\nmessages = [{{\"role\": \"user\", \"content\": \"Help me understand\"}}]\nfor token in llm.stream(messages):\n    print(token.content, end=\"\")", "output": "FINDING: Code review for Article 15.\\nARTICLE: 15\\nEVIDENCE: Lines 8-18", "metadata": {"framework": "langchain_v2", "article": 15, "compliance_state": "partially_compliant", "template": "streaming_chain"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 12 (Record-Keeping & Audit Logging) compliance.", "input": "from anthropic import Anthropic\n\ndef apply_guardrails(response_text):\n    blocked_patterns = [\"forbidden_word1\", \"forbidden_word2\", \"forbidden_word3\"]\n    for pattern in blocked_patterns:\n        if pattern.lower() in response_text.lower():\n            return None\n    return response_text\n\nclient = Anthropic()\nresponse = client.messages.create(\n    model=\"claude-2\",\n    max_tokens=564,\n    system=\"You are a helpful assistant. Do not violate these policies: no illegal content\",\n    messages=[{{\"role\": \"user\", \"content\": \"{prompt}\"}}]\n)\nsafe_response = apply_guardrails(response.content[0].text)", "output": "FINDING: No tamper-evident audit trail for agent decisions.\\nARTICLE: 12\\nSEVERITY: HIGH\\nEVIDENCE: Lines 15-31 lack HMAC-SHA256 chain.\\nRECOMMENDATION: Implement cryptographic audit logging with HMAC.", "metadata": {"framework": "anthropic", "article": 12, "compliance_state": "compliant", "template": "agent_with_guardrails"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 10 (Data Governance & Privacy) compliance.", "input": "from anthropic import Anthropic\n\nclient = Anthropic(api_key=\"sk-xxxxxxxxxxxxxxxxxxxx\")\nmessages = [\n    {{\"role\": \"user\", \"content\": \"{prompt}\"}}\n]\nresponse = client.messages.create(\n    model=\"gpt-3.5-turbo\",\n    max_tokens=660,\n    messages=messages\n)", "output": "FINDING: Anthropic agent processes input without PII protection.\\nARTICLE: 10\\nSEVERITY: CRITICAL\\nEVIDENCE: Lines 26-41 pass user data directly to API.\\nRECOMMENDATION: Wrap with PII protection layer for PII detection and encryption.", "metadata": {"framework": "anthropic", "article": 10, "compliance_state": "non_compliant", "template": "basic_agent"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 14 (Human Oversight & Kill Switch) compliance.", "input": "from openai import OpenAI\nfrom pydantic import BaseModel\n\nclass APIResponse(BaseModel):\n    analysis: str\n    details: str\n\nclient = OpenAI(api_key=\"sk-xxxxxxxxxxxxxxxxxxxx\")\nresponse = client.beta.chat.completions.parse(\n    model=\"claude-2\",\n    messages=[{{\"role\": \"user\", \"content\": \"{prompt}\"}}],\n    response_format=APIResponse\n)\nparsed = response.choices[0].message.parsed", "output": "FINDING: Code review for Article 14.\\nARTICLE: 14\\nEVIDENCE: Lines 25-36", "metadata": {"framework": "openai_v2", "article": 14, "compliance_state": "non_compliant", "template": "structured_outputs"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 11 (Technical Documentation) compliance.", "input": "from langchain.chains import LLMChain\n\nchain = LLMChain(llm=ChatOpenAI(), prompt=prompt)\n\ndef safe_invoke(user_input):\n    try:\n        result = chain.run(input=user_input)\n        return {{\"success\": True, \"result\": result}}\n    except Exception as e:\n        logger.error(f\"Error: {{e}}\")\n        return {{\"success\": False, \"error\": str(e)}}", "output": "FINDING: Code has error handling but incomplete documentation.\\nARTICLE: 11\\nSEVERITY: MEDIUM\\nEVIDENCE: Lines 5-15 catch errors but lack structured audit logging decision records.\\nRECOMMENDATION: Add structured logging with decision context and model cards.", "metadata": {"framework": "edge_case_partial_compliance", "article": 11, "compliance_state": "partially_compliant", "template": "has_try_except_no_injection_detection"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 9 (Risk Management System) compliance.", "input": "from langchain.agents import*;from langchain.chat_models import*;l=ChatOpenAI(model=\"gpt-4\");t=load_tools([\"search\"]);a=initialize_agent(t,l,agent=\"zero-shot\");r=a.run(\"query\")", "output": "FINDING: Obfuscated code prevents risk assessment.\\nARTICLE: 9\\nSEVERITY: CRITICAL\\nEVIDENCE: Lines 1-13 use minification/obfuscation preventing analysis.\\nRECOMMENDATION: Provide source code and implement transparent risk classification system.", "metadata": {"framework": "obfuscated_code", "article": 9, "compliance_state": "non_compliant", "template": "minified_agent"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 10 (Data Governance & Privacy) compliance.", "input": "from langchain.chains import LLMChain\n\nchain = LLMChain(llm=ChatOpenAI(), prompt=prompt)\n\ndef safe_invoke(user_input):\n    try:\n        result = chain.run(input=user_input)\n        return {{\"success\": True, \"result\": result}}\n    except Exception as e:\n        logger.error(f\"Error: {{e}}\")\n        return {{\"success\": False, \"error\": str(e)}}", "output": "FINDING: Code validates input length but no PII detection.\\nARTICLE: 10\\nSEVERITY: MEDIUM\\nEVIDENCE: Lines 29-43 have input validation but miss PII protection layer integration.\\nRECOMMENDATION: Add PII detection and encryption to security layer.", "metadata": {"framework": "edge_case_partial_compliance", "article": 10, "compliance_state": "partially_compliant", "template": "has_try_except_no_injection_detection"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 9 (Risk Management System) compliance.", "input": "from langchain.retrievers import MultiRetriever\nfrom langchain.vectorstores import Chroma, FAISS\nfrom langchain.embeddings import OpenAIEmbeddings\n\nembeddings = OpenAIEmbeddings(model=\"claude-2\")\nchroma_retriever = Chroma.from_documents(docs, embeddings).as_retriever(search_kwargs={{\"k\": 3}})\nfaiss_retriever = FAISS.from_documents(docs, embeddings).as_retriever(search_kwargs={{\"k\": 3}})\nmulti = MultiRetriever(retrievers=[chroma_retriever, faiss_retriever])\nresults = multi.get_relevant_documents(\"How does this work?\")", "output": "FINDING: Code review for Article 9.\\nARTICLE: 9\\nEVIDENCE: Lines 22-32", "metadata": {"framework": "rag_v2", "article": 9, "compliance_state": "partially_compliant", "template": "multi_retriever"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 15 (Robustness & Input Validation) compliance.", "input": "from anthropic import Anthropic\n\nclient = Anthropic()\nstate = {{\"current_agent\": \"agent1\", \"task\": \"solve problem\", \"status\": \"pending\"}}\n\nwhile state[\"status\"] != \"complete\":\n    response = client.messages.create(\n        model=\"gpt-4\",\n        max_tokens=1903,\n        system=\"You are Analyst\",\n        messages=[{{\"role\": \"user\", \"content\": state[\"task\"]}}]\n    )\n    state[\"response\"] = response.content[0].text\n    state[\"current_agent\"] = \"agent2\" if state[\"current_agent\"] == \"agent1\" else \"agent1\"", "output": "FINDING: Agent input validation missing injection detection.\\nARTICLE: 15\\nSEVERITY: CRITICAL\\nEVIDENCE: Lines 9-26 accept user input without prompt injection detection.\\nRECOMMENDATION: Deploy prompt injection detection for prompt injection protection.", "metadata": {"framework": "anthropic", "article": 15, "compliance_state": "non_compliant", "template": "multi_agent_handoff"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 15 (Robustness & Input Validation) compliance.", "input": "from time import sleep\nfrom langchain.chat_models import ChatOpenAI\n\nclient = ChatOpenAI(model=\"gpt-4\")\ncall_count = 0\nlast_call_time = 0\nrate_limit = 60  # 1 per second\n\ndef rate_limited_call(prompt):\n    global call_count, last_call_time\n    elapsed = time.time() - last_call_time\n    if elapsed < rate_limit:\n        sleep(rate_limit - elapsed)\n    response = client.invoke(prompt)\n    call_count += 1\n    return response", "output": "FINDING: Code validates length but misses injection patterns.\\nARTICLE: 15\\nSEVERITY: MEDIUM\\nEVIDENCE: Lines 26-35 have regex validation but incomplete prompt injection detection.\\nRECOMMENDATION: Expand validation to cover 15 injection attack patterns.", "metadata": {"framework": "edge_case_partial_compliance", "article": 15, "compliance_state": "partially_compliant", "template": "has_rate_limiting_no_audit"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 14 (Human Oversight & Kill Switch) compliance.", "input": "from anthropic import Anthropic\n\nclient = Anthropic(api_key=\"sk-xxxxxxxxxxxxxxxxxxxx\")\nmessages = [\n    {{\"role\": \"user\", \"content\": \"{prompt}\"}}\n]\nresponse = client.messages.create(\n    model=\"claude-2\",\n    max_tokens=459,\n    messages=messages\n)", "output": "FINDING: Agent executes without human oversight.\\nARTICLE: 14\\nSEVERITY: HIGH\\nEVIDENCE: Lines 23-28 show autonomous execution without HITL.\\nRECOMMENDATION: Add HITL queue and emergency kill switch.", "metadata": {"framework": "anthropic", "article": 14, "compliance_state": "partially_compliant", "template": "basic_agent"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 11 (Technical Documentation) compliance.", "input": "from langchain.agents import*;from langchain.chat_models import*;l=ChatOpenAI(model=\"gpt-4\");t=load_tools([\"search\"]);a=initialize_agent(t,l,agent=\"zero-shot\");r=a.run(\"query\")", "output": "FINDING: Obfuscated code prevents decision documentation.\\nARTICLE: 11\\nSEVERITY: CRITICAL\\nEVIDENCE: Lines 25-32 use eval()/exec() preventing audit logging.\\nRECOMMENDATION: Replace dynamic code with explicit structured audit logging integration.", "metadata": {"framework": "obfuscated_code", "article": 11, "compliance_state": "non_compliant", "template": "minified_agent"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 11 (Technical Documentation) compliance.", "input": "from langchain.chains import LLMChain\nimport re\n\ndef validate_input(user_input):\n    if len(user_input) > 1000:\n        raise ValueError(\"Input too long\")\n    if not re.match(r\"^[\\w\\s,.!?]+$\", user_input):\n        raise ValueError(\"Invalid characters\")\n    return True\n\ndef execute_agent(user_input):\n    validate_input(user_input)\n    result = agent.run(user_input)\n    return result", "output": "FINDING: Code has error handling but incomplete documentation.\\nARTICLE: 11\\nSEVERITY: MEDIUM\\nEVIDENCE: Lines 13-22 catch errors but lack structured audit logging decision records.\\nRECOMMENDATION: Add structured logging with decision context and model cards.", "metadata": {"framework": "edge_case_partial_compliance", "article": 11, "compliance_state": "partially_compliant", "template": "has_input_validation_no_override"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 10 (Data Governance & Privacy) compliance.", "input": "from time import sleep\nfrom langchain.chat_models import ChatOpenAI\n\nclient = ChatOpenAI(model=\"gpt-4\")\ncall_count = 0\nlast_call_time = 0\nrate_limit = 60  # 1 per second\n\ndef rate_limited_call(prompt):\n    global call_count, last_call_time\n    elapsed = time.time() - last_call_time\n    if elapsed < rate_limit:\n        sleep(rate_limit - elapsed)\n    response = client.invoke(prompt)\n    call_count += 1\n    return response", "output": "FINDING: Code validates input length but no PII detection.\\nARTICLE: 10\\nSEVERITY: MEDIUM\\nEVIDENCE: Lines 10-19 have input validation but miss PII protection layer integration.\\nRECOMMENDATION: Add PII detection and encryption to security layer.", "metadata": {"framework": "edge_case_partial_compliance", "article": 10, "compliance_state": "partially_compliant", "template": "has_rate_limiting_no_audit"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 14 (Human Oversight & Kill Switch) compliance.", "input": "from anthropic import Anthropic\n\ndef apply_guardrails(response_text):\n    blocked_patterns = [\"forbidden_word1\", \"forbidden_word2\", \"forbidden_word3\"]\n    for pattern in blocked_patterns:\n        if pattern.lower() in response_text.lower():\n            return None\n    return response_text\n\nclient = Anthropic()\nresponse = client.messages.create(\n    model=\"gpt-3.5-turbo\",\n    max_tokens=1460,\n    system=\"You are a helpful assistant. Do not violate these policies: no illegal content\",\n    messages=[{{\"role\": \"user\", \"content\": \"{prompt}\"}}]\n)\nsafe_response = apply_guardrails(response.content[0].text)", "output": "FINDING: Agent executes without human oversight.\\nARTICLE: 14\\nSEVERITY: HIGH\\nEVIDENCE: Lines 10-25 show autonomous execution without HITL.\\nRECOMMENDATION: Add HITL queue and emergency kill switch.", "metadata": {"framework": "anthropic", "article": 14, "compliance_state": "compliant", "template": "agent_with_guardrails"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 9 (Risk Management System) compliance.", "input": "from anthropic import Anthropic\n\nclient = Anthropic(api_key=\"sk-xxxxxxxxxxxxxxxxxxxx\")\nmessages = [\n    {{\"role\": \"user\", \"content\": \"{prompt}\"}}\n]\nresponse = client.messages.create(\n    model=\"claude-3-opus\",\n    max_tokens=1851,\n    messages=messages\n)", "output": "FINDING: Anthropic agent lacks risk classification.\\nARTICLE: 9\\nSEVERITY: HIGH\\nEVIDENCE: Lines 23-41 show unguarded agent invocation without risk classification system.\\nRECOMMENDATION: Integrate risk classification system risk scoring and consent flow.", "metadata": {"framework": "anthropic", "article": 9, "compliance_state": "partially_compliant", "template": "basic_agent"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 12 (Record-Keeping & Audit Logging) compliance.", "input": "from anthropic import Anthropic\n\nclient = Anthropic()\ntools = [\n    {{\n        \"name\": \"parse_text\",\n        \"description\": \"A useful tool for processing\",\n        \"input_schema\": {{\"type\": \"object\", \"properties\": {{\"input\": {{\"type\": \"string\"}}}}}}\n    }}\n]\n\nresponse = client.messages.create(\n    model=\"gpt-3.5-turbo\",\n    max_tokens=1186,\n    tools=tools,\n    messages=[{{\"role\": \"user\", \"content\": \"{prompt}\"}}]\n)", "output": "FINDING: No tamper-evident audit trail for agent decisions.\\nARTICLE: 12\\nSEVERITY: HIGH\\nEVIDENCE: Lines 27-33 lack HMAC-SHA256 chain.\\nRECOMMENDATION: Implement cryptographic audit logging with HMAC.", "metadata": {"framework": "anthropic", "article": 12, "compliance_state": "partially_compliant", "template": "agent_with_mcp_tools"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 9 (Risk Management System) compliance.", "input": "from autogen import AssistantAgent, UserProxyAgent, Agent\n\nagent1 = AssistantAgent(\"agent1\", llm_config={{\"model\": \"claude-2\"}})\nagent2 = AssistantAgent(\"agent2\", llm_config={{\"model\": \"claude-2\"}})\nuser = UserProxyAgent(\"user\", code_execution_config={{\"work_dir\": \"/tmp/agent\"}})\n\nuser.initiate_chats([\n    {{\"recipient\": agent1, \"message\": \"Analyze this please\"}},\n    {{\"recipient\": agent2, \"message\": \"Then implement it\"}}\n])", "output": "FINDING: Code review for Article 9.\\nARTICLE: 9\\nEVIDENCE: Lines 17-31", "metadata": {"framework": "autogen_v2", "article": 9, "compliance_state": "non_compliant", "template": "nested_chat"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 14 (Human Oversight & Kill Switch) compliance.", "input": "from langchain.retrievers import ContextualCompressionRetriever\nfrom langchain.retrievers.document_compressors import CohereRerank\nfrom langchain.vectorstores import Chroma\n\nbase_retriever = Chroma.from_documents(docs, embeddings).as_retriever(search_kwargs={{\"k\": 34}})\ncompressor = CohereRerank(model=\"reranker-v3\", top_n=6)\nretriever = ContextualCompressionRetriever(\n    base_compressor=compressor,\n    base_retriever=base_retriever\n)\nresults = retriever.get_relevant_documents(\"Summarize please\")", "output": "FINDING: Code review for Article 14.\\nARTICLE: 14\\nEVIDENCE: Lines 21-34", "metadata": {"framework": "rag_v2", "article": 14, "compliance_state": "partially_compliant", "template": "reranking_pipeline"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 12 (Record-Keeping & Audit Logging) compliance.", "input": "from openai import OpenAI\n\nclient = OpenAI(api_key=\"sk-xxxxxxxxxxxxxxxxxxxx\")\nstream = client.chat.completions.create(\n    model=\"gpt-3.5-turbo\",\n    messages=[{{\"role\": \"user\", \"content\": \"{prompt}\"}}],\n    stream=True,\n    temperature=0.3\n)\nfor chunk in stream:\n    if chunk.choices[0].delta.content:\n        print(chunk.choices[0].delta.content, end=\"\")", "output": "FINDING: Code review for Article 12.\\nARTICLE: 12\\nEVIDENCE: Lines 19-24", "metadata": {"framework": "openai_v2", "article": 12, "compliance_state": "non_compliant", "template": "streaming_chat"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 12 (Record-Keeping & Audit Logging) compliance.", "input": "from langchain.agents import initialize_agent\nimport logging\n\nlogging.basicConfig(level=logging.INFO)\nlogger = logging.getLogger(__name__)\n\nllm = ChatOpenAI(model=\"gpt-4\")\ntools = load_tools([\"search\"])\nagent = initialize_agent(tools, llm, agent=\"zero-shot-react-description\")\n\ndef execute_with_logging(query):\n    logger.info(f\"Input: {How does this work?}\")\n    result = agent.run(query)\n    logger.info(f\"Output: {{result}}\")\n    return result", "output": "FINDING: Code logs events but lacks cryptographic integrity.\\nARTICLE: 12\\nSEVERITY: MEDIUM\\nEVIDENCE: Lines 17-30 have basic logging without HMAC chain.\\nRECOMMENDATION: Upgrade to HMAC-SHA256 tamper-evident audit logs.", "metadata": {"framework": "edge_case_partial_compliance", "article": 12, "compliance_state": "partially_compliant", "template": "has_logging_no_hmac"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 12 (Record-Keeping & Audit Logging) compliance.", "input": "from crewai import Agent, Task, Crew\nfrom langchain.chat_models import ChatOpenAI\n\nllm = ChatOpenAI(model=\"claude-3-opus\")\nagents = [\n    Agent(role=\"Researcher\", goal=\"Research topic\", llm=llm),\n    Agent(role=\"Implementer\", goal=\"Implement solution\", llm=llm)\n]\ntasks = [\n    Task(description=\"Research component\", agent=agents[0]),\n    Task(description=\"Build component\", agent=agents[1])\n]\ncrew = Crew(agents=agents, tasks=tasks, process=\"sequential\")\nresult = crew.kickoff()", "output": "FINDING: Code review for Article 12.\\nARTICLE: 12\\nEVIDENCE: Lines 19-34", "metadata": {"framework": "crewai_v2", "article": 12, "compliance_state": "partially_compliant", "template": "sequential_crew"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 11 (Technical Documentation) compliance.", "input": "from openai import OpenAI\nfrom pydantic import BaseModel\n\nclass APIResponse(BaseModel):\n    analysis: str\n    evidence: str\n\nclient = OpenAI(api_key=\"sk-xxxxxxxxxxxxxxxxxxxx\")\nresponse = client.beta.chat.completions.parse(\n    model=\"gpt-4\",\n    messages=[{{\"role\": \"user\", \"content\": \"{prompt}\"}}],\n    response_format=APIResponse\n)\nparsed = response.choices[0].message.parsed", "output": "FINDING: Code review for Article 11.\\nARTICLE: 11\\nEVIDENCE: Lines 1-18", "metadata": {"framework": "openai_v2", "article": 11, "compliance_state": "partially_compliant", "template": "structured_outputs"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 9 (Risk Management System) compliance.", "input": "from langchain_core.runnables import RunnableSequence\nfrom langchain.chat_models import ChatOpenAI\nfrom langchain.prompts import ChatPromptTemplate\n\nprompt = ChatPromptTemplate.from_template(\"Help me understand\")\nllm = ChatOpenAI(model=\"gpt-4\", temperature=0.0)\nchain = prompt | llm\nresult = chain.invoke({{\"input\": \"test input\"}})", "output": "FINDING: Code review for Article 9.\\nARTICLE: 9\\nEVIDENCE: Lines 30-49", "metadata": {"framework": "langchain_v2", "article": 9, "compliance_state": "non_compliant", "template": "lcel_chain"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 11 (Technical Documentation) compliance.", "input": "from crewai import Agent, Task, Crew\nfrom langchain.chat_models import ChatOpenAI\n\nllm = ChatOpenAI(model=\"gpt-3.5-turbo\")\nmanager = Agent(role=\"Manager\", goal=\"Oversee execution\", llm=llm)\nworker = Agent(role=\"Worker\", goal=\"Execute tasks\", llm=llm)\ncrew = Crew(\n    agents=[manager, worker],\n    tasks=[task1, task2],\n    process=\"hierarchical\",\n    manager_agent=manager\n)\nresult = crew.kickoff()", "output": "FINDING: Code review for Article 11.\\nARTICLE: 11\\nEVIDENCE: Lines 7-25", "metadata": {"framework": "crewai_v2", "article": 11, "compliance_state": "non_compliant", "template": "hierarchical_crew"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 11 (Technical Documentation) compliance.", "input": "from langchain.agents import initialize_agent\nimport logging\n\nlogging.basicConfig(level=logging.INFO)\nlogger = logging.getLogger(__name__)\n\nllm = ChatOpenAI(model=\"gpt-4\")\ntools = load_tools([\"search\"])\nagent = initialize_agent(tools, llm, agent=\"zero-shot-react-description\")\n\ndef execute_with_logging(query):\n    logger.info(f\"Input: {What is AI?}\")\n    result = agent.run(query)\n    logger.info(f\"Output: {{result}}\")\n    return result", "output": "FINDING: Code has error handling but incomplete documentation.\\nARTICLE: 11\\nSEVERITY: MEDIUM\\nEVIDENCE: Lines 16-28 catch errors but lack structured audit logging decision records.\\nRECOMMENDATION: Add structured logging with decision context and model cards.", "metadata": {"framework": "edge_case_partial_compliance", "article": 11, "compliance_state": "partially_compliant", "template": "has_logging_no_hmac"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 12 (Record-Keeping & Audit Logging) compliance.", "input": "from autogen import AssistantAgent, UserProxyAgent, config_list_from_json\n\nconfig_list = [{{\"model\": \"gpt-3.5-turbo\", \"api_key\": \"sk-xxxxxxxxxxxxxxxxxxxx\"}}]\nassistant = AssistantAgent(\"coder\", llm_config={{\"config_list\": config_list}})\nuser_proxy = UserProxyAgent(\n    \"user\",\n    human_input_mode=\"TERMINATE\",\n    code_execution_config={{\n        \"work_dir\": \"./work\",\n        \"use_docker\": false\n    }}\n)\nuser_proxy.initiate_chat(assistant, message=\"Help with this task\")", "output": "FINDING: Code review for Article 12.\\nARTICLE: 12\\nEVIDENCE: Lines 11-26", "metadata": {"framework": "autogen_v2", "article": 12, "compliance_state": "non_compliant", "template": "code_executor_agent"}}
