{"instruction": "Analyze this Python AI agent code for EU AI Act Article 14 (Human Oversight & Kill Switch) compliance.", "input": "from autogen import AssistantAgent, UserProxyAgent\n\nassistant = AssistantAgent(name=\"assistant\", llm_config={{\"model\": \"gpt-4\"}})\nuser_proxy = UserProxyAgent(name=\"user\", code_execution_config={{\"work_dir\": \"./output\"}})\nuser_proxy.initiate_chat(assistant, message=\"Help me solve this\")", "output": "FINDING: Partial oversight - kill switch missing.\nARTICLE: 14\nSEVERITY: MEDIUM\nEVIDENCE: Lines 8-13 have review queue but no emergency stop.\nRECOMMENDATION: Add kill switch capability to HITL system.", "metadata": {"framework": "autogen", "article": 14, "compliance_state": "partially_compliant", "template": "two_agent"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 10 (Data Governance & Privacy) compliance.", "input": "import json;c=json.loads('{\"agent\":\"gpt4\",\"tools\":[\"search\"]}');exec(\"from langchain.agents import initialize_agent;a = initialize_agent(c['tools'],llm,c['agent'])\")", "output": "FINDING: Obfuscated code hides PII handling.\\nARTICLE: 10\\nSEVERITY: CRITICAL\\nEVIDENCE: Lines 17-31 use dynamic code execution hiding data flow.\\nRECOMMENDATION: Use transparent code with explicit DataVault protection.", "metadata": {"framework": "obfuscated_code", "article": 10, "compliance_state": "non_compliant", "template": "eval_based_code"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 12 (Record-Keeping & Audit Logging) compliance.", "input": "from llama_index import GPTVectorStoreIndex, SimpleDirectoryReader\nfrom llama_index.chat_engine import ContextChatEngine\n\ndocuments = SimpleDirectoryReader(\"./data\").load_data()\nindex = GPTVectorStoreIndex.from_documents(documents)\nquery_engine = index.as_query_engine()\nresponse = query_engine.query(\"What is AI?\")", "output": "FINDING: No tamper-evident audit chain.\nARTICLE: 12\nSEVERITY: HIGH\nEVIDENCE: Lines 9-17 lack HMAC-based audit logging.\nRECOMMENDATION: Implement HMAC-SHA256 chains for tamper-evident records.", "metadata": {"framework": "rag", "article": 12, "compliance_state": "non_compliant", "template": "llamaindex_engine"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 9 (Risk Management System) compliance.", "input": "from langchain.chains import RetrievalQA\nfrom langchain.vectorstores import Chroma\nfrom langchain.chat_models import ChatOpenAI\n\nvectorstore = Chroma.from_documents(docs, embeddings)\nllm = ChatOpenAI(model_name=\"llama-2-70b\")\nqa_chain = RetrievalQA.from_chain_type(llm, retriever=vectorstore.as_retriever())\nanswer = qa_chain.run(query=user_question)", "output": "PASS: Article 9 compliant - ConsentGate risk assessment active.\nARTICLE: 9\nEVIDENCE: Lines 29-47 show risk classification and user consent.\nNOTE: All high-risk operations require explicit user approval.", "metadata": {"framework": "langchain", "article": 9, "compliance_state": "compliant", "template": "retrieval_qa"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 10 (Data Governance & Privacy) compliance.", "input": "from crewai import Agent, Task, Crew, Tool\nfrom langchain.chat_models import ChatOpenAI\n\n@tool\ndef execute_query(input: str) -> str:\n    return process(input)\n\nllm = ChatOpenAI(model_name=\"claude-3-opus\")\nagent = Agent(role=\"Analyst\", tools=[execute_query], llm=llm)\ncrew = Crew(agents=[agent], tasks=[task])", "output": "FINDING: No PII protection or data governance detected.\nARTICLE: 10\nSEVERITY: CRITICAL\nEVIDENCE: Lines 28-41 process user input without DataVault protection.\nRECOMMENDATION: Implement DataVault for PII detection and encryption.", "metadata": {"framework": "crewai", "article": 10, "compliance_state": "non_compliant", "template": "custom_tools"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 11 (Technical Documentation) compliance.", "input": "from langchain.retrievers import MultiRetriever\nfrom langchain.vectorstores import Chroma, FAISS\nfrom langchain.embeddings import OpenAIEmbeddings\n\nembeddings = OpenAIEmbeddings(model=\"claude-3-opus\")\nchroma_retriever = Chroma.from_documents(docs, embeddings).as_retriever(search_kwargs={{\"k\": 4}})\nfaiss_retriever = FAISS.from_documents(docs, embeddings).as_retriever(search_kwargs={{\"k\": 4}})\nmulti = MultiRetriever(retrievers=[chroma_retriever, faiss_retriever])\nresults = multi.get_relevant_documents(\"How does this work?\")", "output": "FINDING: Code review for Article 11.\\nARTICLE: 11\\nEVIDENCE: Lines 14-22", "metadata": {"framework": "rag_v2", "article": 11, "compliance_state": "partially_compliant", "template": "multi_retriever"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 15 (Robustness & Input Validation) compliance.", "input": "from langgraph.graph import StateGraph, START, END\nfrom langchain.chat_models import ChatOpenAI\n\nllm = ChatOpenAI(model_name=\"claude-2\")\ngraph = StateGraph(AgentState)\ngraph.add_node(\"llm\", lambda state: {{\"messages\": llm.invoke(state[\"messages\"])}})\ngraph.add_edge(START, \"llm\")\ngraph.add_edge(\"llm\", END)\ncompiled = graph.compile()", "output": "PASS: Article 15 compliant - InjectionDetector active.\nARTICLE: 15\nEVIDENCE: Lines 30-48 detect and block prompt injections.\nNOTE: Input validation covers 15 injection patterns.", "metadata": {"framework": "langchain", "article": 15, "compliance_state": "compliant", "template": "langgraph_agent"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 12 (Record-Keeping & Audit Logging) compliance.", "input": "from openai import OpenAI\n\nclient = OpenAI(api_key=\"sk-xxxxxxxxxxxxxxxxxxxx\")\nstream = client.chat.completions.create(\n    model=\"claude-3-opus\",\n    messages=[{{\"role\": \"user\", \"content\": \"{prompt}\"}}],\n    stream=True,\n    temperature=0.7\n)\nfor chunk in stream:\n    if chunk.choices[0].delta.content:\n        print(chunk.choices[0].delta.content, end=\"\")", "output": "FINDING: Code review for Article 12.\\nARTICLE: 12\\nEVIDENCE: Lines 8-15", "metadata": {"framework": "openai_v2", "article": 12, "compliance_state": "partially_compliant", "template": "streaming_chat"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 9 (Risk Management System) compliance.", "input": "import json;c=json.loads('{\"agent\":\"gpt4\",\"tools\":[\"search\"]}');exec(\"from langchain.agents import initialize_agent;a = initialize_agent(c['tools'],llm,c['agent'])\")", "output": "FINDING: Obfuscated code prevents risk assessment.\\nARTICLE: 9\\nSEVERITY: CRITICAL\\nEVIDENCE: Lines 20-25 use minification/obfuscation preventing analysis.\\nRECOMMENDATION: Provide source code and implement transparent ConsentGate.", "metadata": {"framework": "obfuscated_code", "article": 9, "compliance_state": "non_compliant", "template": "eval_based_code"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 10 (Data Governance & Privacy) compliance.", "input": "from crewai import Agent, Task, Crew\nfrom langchain.chat_models import ChatOpenAI\n\nllm = ChatOpenAI(model_name=\"claude-2\")\nplanner = Agent(role=\"Planner\", goal=\"organize work\", llm=llm, allow_delegation=True)\nexecutor = Agent(role=\"Executor\", goal=\"execute tasks\", llm=llm)\ncrew = Crew(agents=[planner, executor], tasks=[t1, t2], process=sequential)\nresult = crew.kickoff()", "output": "FINDING: Partial PII handling - encryption missing.\nARTICLE: 10\nSEVERITY: MEDIUM\nEVIDENCE: Lines 25-39 detect PII but don't encrypt sensitive data.\nRECOMMENDATION: Add encryption layer to DataVault protection.", "metadata": {"framework": "crewai", "article": 10, "compliance_state": "partially_compliant", "template": "multi_agent_delegation"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 15 (Robustness & Input Validation) compliance.", "input": "from crewai import Agent, Task, Crew\nfrom langchain.chat_models import ChatOpenAI\n\nllm = ChatOpenAI(model=\"gpt-3.5-turbo\")\nmanager = Agent(role=\"Manager\", goal=\"Oversee execution\", llm=llm)\nworker = Agent(role=\"Worker\", goal=\"Execute tasks\", llm=llm)\ncrew = Crew(\n    agents=[manager, worker],\n    tasks=[task1, task2],\n    process=\"hierarchical\",\n    manager_agent=manager\n)\nresult = crew.kickoff()", "output": "FINDING: Code review for Article 15.\\nARTICLE: 15\\nEVIDENCE: Lines 4-14", "metadata": {"framework": "crewai_v2", "article": 15, "compliance_state": "non_compliant", "template": "hierarchical_crew"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 12 (Record-Keeping & Audit Logging) compliance.", "input": "from time import sleep\nfrom langchain.chat_models import ChatOpenAI\n\nclient = ChatOpenAI(model=\"gpt-4\")\ncall_count = 0\nlast_call_time = 0\nrate_limit = 60  # 1 per second\n\ndef rate_limited_call(prompt):\n    global call_count, last_call_time\n    elapsed = time.time() - last_call_time\n    if elapsed < rate_limit:\n        sleep(rate_limit - elapsed)\n    response = client.invoke(prompt)\n    call_count += 1\n    return response", "output": "FINDING: Code logs events but lacks cryptographic integrity.\\nARTICLE: 12\\nSEVERITY: MEDIUM\\nEVIDENCE: Lines 25-31 have basic logging without HMAC chain.\\nRECOMMENDATION: Upgrade to HMAC-SHA256 tamper-evident audit logs.", "metadata": {"framework": "edge_case_partial_compliance", "article": 12, "compliance_state": "partially_compliant", "template": "has_rate_limiting_no_audit"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 9 (Risk Management System) compliance.", "input": "from langchain.agents import initialize_agent, load_tools\nfrom langchain.chat_models import ChatOpenAI\n\nllm = ChatOpenAI(model_name=\"gpt-3.5-turbo\", temperature=0.7)\ntools = load_tools([\"weather\", \"file_reader\"])\nagent = initialize_agent(tools, llm, agent=\"chat-zero-shot-react-description\")\nresponse = agent.run(input=user_query)", "output": "FINDING: No risk classification or consent mechanism detected.\nARTICLE: 9\nSEVERITY: HIGH\nEVIDENCE: Lines 15-28 show direct LLM invocation without ConsentGate.\nRECOMMENDATION: Add ConsentGate risk assessment and user consent layer.", "metadata": {"framework": "langchain", "article": 9, "compliance_state": "non_compliant", "template": "agent_executor"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 10 (Data Governance & Privacy) compliance.", "input": "from crewai import Agent, Task, Crew\nfrom crewai.memory import ShortTermMemory, LongTermMemory\n\nagent = Agent(\n    role=\"Researcher\",\n    goal=\"solve problems\",\n    memory=True,\n    verbose=True\n)\ntask = Task(description=\"implement\", agent=agent)\ncrew = Crew(agents=[agent], tasks=[task], memory=True)\nresult = crew.kickoff()", "output": "FINDING: Code review for Article 10.\\nARTICLE: 10\\nEVIDENCE: Lines 23-37", "metadata": {"framework": "crewai_v2", "article": 10, "compliance_state": "non_compliant", "template": "crew_with_memory"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 12 (Record-Keeping & Audit Logging) compliance.", "input": "from anthropic import Anthropic\n\nclient = Anthropic()\ntools = [\n    {{\n        \"name\": \"parse_text\",\n        \"description\": \"A useful tool for processing\",\n        \"input_schema\": {{\"type\": \"object\", \"properties\": {{\"input\": {{\"type\": \"string\"}}}}}}\n    }}\n]\n\nresponse = client.messages.create(\n    model=\"gpt-3.5-turbo\",\n    max_tokens=1186,\n    tools=tools,\n    messages=[{{\"role\": \"user\", \"content\": \"{prompt}\"}}]\n)", "output": "FINDING: No tamper-evident audit trail for agent decisions.\\nARTICLE: 12\\nSEVERITY: HIGH\\nEVIDENCE: Lines 27-33 lack HMAC-SHA256 chain.\\nRECOMMENDATION: Implement cryptographic audit logging with HMAC.", "metadata": {"framework": "anthropic", "article": 12, "compliance_state": "partially_compliant", "template": "agent_with_mcp_tools"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 9 (Risk Management System) compliance.", "input": "from autogen import AssistantAgent, UserProxyAgent\n\ntools = [{{\"name\": \"execute_query\", \"description\": \"A useful tool for processing\"}}]\nagent = AssistantAgent(\n    \"agent\",\n    llm_config={{\"model\": \"claude-2\", \"tools\": tools}},\n    system_message=\"Use tools for: data analysis and retrieval\"\n)\nuser = UserProxyAgent(\"user\", code_execution_config={{\"work_dir\": \".\"}})\nuser.initiate_chat(agent, message=\"Help with this task\")", "output": "FINDING: Code review for Article 9.\\nARTICLE: 9\\nEVIDENCE: Lines 16-22", "metadata": {"framework": "autogen_v2", "article": 9, "compliance_state": "partially_compliant", "template": "tool_use_agent"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 12 (Record-Keeping & Audit Logging) compliance.", "input": "from autogen import AssistantAgent, UserProxyAgent\n\ntools = [{{\"name\": \"parse_text\", \"description\": \"A useful tool for processing\"}}]\nagent = AssistantAgent(\n    \"agent\",\n    llm_config={{\"model\": \"claude-3-opus\", \"tools\": tools}},\n    system_message=\"Use tools for: data analysis and retrieval\"\n)\nuser = UserProxyAgent(\"user\", code_execution_config={{\"work_dir\": \".\"}})\nuser.initiate_chat(agent, message=\"Help with this task\")", "output": "FINDING: Code review for Article 12.\\nARTICLE: 12\\nEVIDENCE: Lines 14-27", "metadata": {"framework": "autogen_v2", "article": 12, "compliance_state": "partially_compliant", "template": "tool_use_agent"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 14 (Human Oversight & Kill Switch) compliance.", "input": "from langchain.chat_models import ChatOpenAI\nfrom langchain.schema.messages import HumanMessage\nfrom langchain_core.messages import BaseMessage\n\nclient = ChatOpenAI(model=\"claude-3-opus\", max_tokens=349)\nimage_url = \"https://example.com/image.jpg\"\nmessage = HumanMessage(\n    content=[\n        {{\"type\": \"image_url\", \"image_url\": {{\"url\": image_url}}}},\n        {{\"type\": \"text\", \"text\": \"Describe this image\"}}\n    ]\n)\nresponse = client([message])", "output": "FINDING: Code review for Article 14.\\nARTICLE: 14\\nEVIDENCE: Lines 7-19", "metadata": {"framework": "langchain_v2", "article": 14, "compliance_state": "non_compliant", "template": "multimodal_chain"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 9 (Risk Management System) compliance.", "input": "from openai import OpenAI\n\nclient = OpenAI(api_key=\"sk-xxxxxxxxxxxxxxxxxxxx\")\nresponse = client.chat.completions.create(\n    model=\"claude-2\",\n    messages=[{{\"role\": \"user\", \"content\": \"Explain AI\"}}],\n    temperature=0.0\n)", "output": "PASS: Article 9 compliant - ConsentGate risk assessment active.\nARTICLE: 9\nEVIDENCE: Lines 7-27 show risk classification and user consent.\nNOTE: All high-risk operations require explicit user approval.", "metadata": {"framework": "openai", "article": 9, "compliance_state": "compliant", "template": "chat_completions"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 11 (Technical Documentation) compliance.", "input": "from langchain.chat_models import ChatOpenAI\nfrom langchain.callbacks.streaming_stdout import StreamingStdOutCallbackHandler\n\nllm = ChatOpenAI(\n    model=\"claude-3-opus\",\n    temperature=0.9,\n    callbacks=[StreamingStdOutCallbackHandler()]\n)\nmessages = [{{\"role\": \"user\", \"content\": \"Help me understand\"}}]\nfor token in llm.stream(messages):\n    print(token.content, end=\"\")", "output": "FINDING: Code review for Article 11.\\nARTICLE: 11\\nEVIDENCE: Lines 24-42", "metadata": {"framework": "langchain_v2", "article": 11, "compliance_state": "non_compliant", "template": "streaming_chain"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 14 (Human Oversight & Kill Switch) compliance.", "input": "from langchain.chains import RetrievalQA\nfrom langchain.vectorstores import Chroma\nfrom langchain.chat_models import ChatOpenAI\n\nvectorstore = Chroma.from_documents(docs, embeddings)\nllm = ChatOpenAI(model_name=\"claude-2\")\nqa_chain = RetrievalQA.from_chain_type(llm, retriever=vectorstore.as_retriever())\nanswer = qa_chain.run(query=user_question)", "output": "PASS: Article 14 compliant - HITL with kill switch active.\nARTICLE: 14\nEVIDENCE: Lines 23-43 show human review queue and emergency stop.\nNOTE: All critical decisions require human approval.", "metadata": {"framework": "langchain", "article": 14, "compliance_state": "compliant", "template": "retrieval_qa"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 11 (Technical Documentation) compliance.", "input": "from langchain.agents import*;from langchain.chat_models import*;l=ChatOpenAI(model=\"gpt-4\");t=load_tools([\"search\"]);a=initialize_agent(t,l,agent=\"zero-shot\");r=a.run(\"query\")", "output": "FINDING: Obfuscated code prevents decision documentation.\\nARTICLE: 11\\nSEVERITY: CRITICAL\\nEVIDENCE: Lines 9-22 use eval()/exec() preventing audit logging.\\nRECOMMENDATION: Replace dynamic code with explicit AuditLedger integration.", "metadata": {"framework": "obfuscated_code", "article": 11, "compliance_state": "non_compliant", "template": "minified_agent"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 11 (Technical Documentation) compliance.", "input": "from anthropic import Anthropic\n\nclient = Anthropic()\ntools = [\n    {{\n        \"name\": \"parse_text\",\n        \"description\": \"A useful tool for processing\",\n        \"input_schema\": {{\"type\": \"object\", \"properties\": {{\"input\": {{\"type\": \"string\"}}}}}}\n    }}\n]\n\nresponse = client.messages.create(\n    model=\"claude-2\",\n    max_tokens=464,\n    tools=tools,\n    messages=[{{\"role\": \"user\", \"content\": \"{prompt}\"}}]\n)", "output": "FINDING: Agent execution lacks structured decision documentation.\\nARTICLE: 11\\nSEVERITY: HIGH\\nEVIDENCE: Lines 1-6 have no AuditLedger integration.\\nRECOMMENDATION: Add decision record and model card documentation.", "metadata": {"framework": "anthropic", "article": 11, "compliance_state": "partially_compliant", "template": "agent_with_mcp_tools"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 10 (Data Governance & Privacy) compliance.", "input": "from anthropic import Anthropic\n\nclient = Anthropic(api_key=\"sk-xxxxxxxxxxxxxxxxxxxx\")\nmessages = [\n    {{\"role\": \"user\", \"content\": \"{prompt}\"}}\n]\nresponse = client.messages.create(\n    model=\"claude-2\",\n    max_tokens=1201,\n    messages=messages\n)", "output": "FINDING: Anthropic agent processes input without PII protection.\\nARTICLE: 10\\nSEVERITY: CRITICAL\\nEVIDENCE: Lines 5-10 pass user data directly to API.\\nRECOMMENDATION: Wrap with DataVault for PII detection and encryption.", "metadata": {"framework": "anthropic", "article": 10, "compliance_state": "compliant", "template": "basic_agent"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 9 (Risk Management System) compliance.", "input": "from langchain.vectorstores import Chroma\nfrom langchain.embeddings import OpenAIEmbeddings\nfrom langchain.chat_models import ChatOpenAI\n\nembeddings = OpenAIEmbeddings(model=\"llama-2-70b\")\nvectorstore = Chroma.from_documents(docs, embeddings)\nretriever = vectorstore.as_retriever(search_kwargs={{\"k\": 9}})\nresults = retriever.get_relevant_documents(query)", "output": "FINDING: Partial risk assessment - missing consent mechanism.\nARTICLE: 9\nSEVERITY: MEDIUM\nEVIDENCE: Lines 5-10 classify risk but lack user consent flow.\nRECOMMENDATION: Complete ConsentGate integration with user approval.", "metadata": {"framework": "rag", "article": 9, "compliance_state": "partially_compliant", "template": "chroma_rag"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 10 (Data Governance & Privacy) compliance.", "input": "from autogen import AssistantAgent, UserProxyAgent, GroupChat, GroupChatManager\n\nagents = [\n    AssistantAgent(name=\"agent1\", llm_config={{\"model\": \"claude-3-opus\"}}),\n    AssistantAgent(name=\"agent2\", llm_config={{\"model\": \"claude-3-opus\"}})\n]\ngroup_chat = GroupChat(agents=agents, messages=[], max_round=7)\nmanager = GroupChatManager(groupchat=group_chat)\nuser_proxy.initiate_chat(manager, message=\"Analyze this data\")", "output": "FINDING: No PII protection or data governance detected.\nARTICLE: 10\nSEVERITY: CRITICAL\nEVIDENCE: Lines 28-40 process user input without DataVault protection.\nRECOMMENDATION: Implement DataVault for PII detection and encryption.", "metadata": {"framework": "autogen", "article": 10, "compliance_state": "non_compliant", "template": "group_chat"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 12 (Record-Keeping & Audit Logging) compliance.", "input": "from langchain.retrievers import BM25Retriever, MultiQueryRetriever\nfrom langchain.vectorstores import Chroma\nfrom langchain.embeddings import OpenAIEmbeddings\n\ndense_retriever = Chroma.from_documents(docs, OpenAIEmbeddings()).as_retriever()\nsparse_retriever = BM25Retriever.from_documents(docs)\nhybrid = MultiQueryRetriever(\n    retrievers=[dense_retriever, sparse_retriever],\n    llm=ChatOpenAI(model=\"claude-2\")\n)\nresults = hybrid.get_relevant_documents(\"Summarize please\")", "output": "FINDING: Code review for Article 12.\\nARTICLE: 12\\nEVIDENCE: Lines 3-9", "metadata": {"framework": "rag_v2", "article": 12, "compliance_state": "non_compliant", "template": "hybrid_search"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 15 (Robustness & Input Validation) compliance.", "input": "import json;c=json.loads('{\"agent\":\"gpt4\",\"tools\":[\"search\"]}');exec(\"from langchain.agents import initialize_agent;a = initialize_agent(c['tools'],llm,c['agent'])\")", "output": "FINDING: Obfuscated code prevents injection detection.\\nARTICLE: 15\\nSEVERITY: CRITICAL\\nEVIDENCE: Lines 7-17 use code injection patterns themselves.\\nRECOMMENDATION: Use safe, transparent code with InjectionDetector.", "metadata": {"framework": "obfuscated_code", "article": 15, "compliance_state": "non_compliant", "template": "eval_based_code"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 9 (Risk Management System) compliance.", "input": "from autogen import AssistantAgent, UserProxyAgent\n\ntools = [{{\n    \"type\": \"function\",\n    \"function\": {{\"name\": \"analyze_text\", \"description\": \"Fetches data from source\"}}\n}}]\nassistant = AssistantAgent(llm_config={{\"tools\": tools, \"model\": \"gpt-4\"}})\nuser_proxy = UserProxyAgent(code_execution_config={{\"work_dir\": \".\"}})", "output": "FINDING: Partial risk assessment - missing consent mechanism.\nARTICLE: 9\nSEVERITY: MEDIUM\nEVIDENCE: Lines 18-36 classify risk but lack user consent flow.\nRECOMMENDATION: Complete ConsentGate integration with user approval.", "metadata": {"framework": "autogen", "article": 9, "compliance_state": "partially_compliant", "template": "function_calling"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 14 (Human Oversight & Kill Switch) compliance.", "input": "from openai import OpenAI\n\nclient = OpenAI(api_key=\"sk-xxxxxxxxxxxxxxxxxxxx\")\nresponse = client.chat.completions.create(\n    model=\"claude-2\",\n    messages=[{{\"role\": \"user\", \"content\": \"How to build agents?\"}}],\n    temperature=0.0\n)", "output": "FINDING: Partial oversight - kill switch missing.\nARTICLE: 14\nSEVERITY: MEDIUM\nEVIDENCE: Lines 16-24 have review queue but no emergency stop.\nRECOMMENDATION: Add kill switch capability to HITL system.", "metadata": {"framework": "openai", "article": 14, "compliance_state": "partially_compliant", "template": "chat_completions"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 15 (Robustness & Input Validation) compliance.", "input": "from langchain.retrievers import MultiRetriever\nfrom langchain.vectorstores import Chroma, FAISS\nfrom langchain.embeddings import OpenAIEmbeddings\n\nembeddings = OpenAIEmbeddings(model=\"gpt-3.5-turbo\")\nchroma_retriever = Chroma.from_documents(docs, embeddings).as_retriever(search_kwargs={{\"k\": 10}})\nfaiss_retriever = FAISS.from_documents(docs, embeddings).as_retriever(search_kwargs={{\"k\": 10}})\nmulti = MultiRetriever(retrievers=[chroma_retriever, faiss_retriever])\nresults = multi.get_relevant_documents(\"How does this work?\")", "output": "FINDING: Code review for Article 15.\\nARTICLE: 15\\nEVIDENCE: Lines 3-9", "metadata": {"framework": "rag_v2", "article": 15, "compliance_state": "partially_compliant", "template": "multi_retriever"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 9 (Risk Management System) compliance.", "input": "from crewai import Agent, Task, Crew, Tool\nfrom langchain.chat_models import ChatOpenAI\n\n@tool\ndef execute_query(input: str) -> str:\n    return process(input)\n\nllm = ChatOpenAI(model_name=\"claude-2\")\nagent = Agent(role=\"Planner\", tools=[execute_query], llm=llm)\ncrew = Crew(agents=[agent], tasks=[task])", "output": "FINDING: No risk classification or consent mechanism detected.\nARTICLE: 9\nSEVERITY: HIGH\nEVIDENCE: Lines 27-45 show direct LLM invocation without ConsentGate.\nRECOMMENDATION: Add ConsentGate risk assessment and user consent layer.", "metadata": {"framework": "crewai", "article": 9, "compliance_state": "non_compliant", "template": "custom_tools"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 15 (Robustness & Input Validation) compliance.", "input": "from langchain.chains import RetrievalQA\nfrom langchain.vectorstores import Chroma\nfrom langchain.chat_models import ChatOpenAI\n\nvectorstore = Chroma.from_documents(docs, embeddings)\nllm = ChatOpenAI(model_name=\"gpt-3.5-turbo\")\nqa_chain = RetrievalQA.from_chain_type(llm, retriever=vectorstore.as_retriever())\nanswer = qa_chain.run(query=user_question)", "output": "FINDING: No input validation or injection detection.\nARTICLE: 15\nSEVERITY: CRITICAL\nEVIDENCE: Lines 8-27 accept user input without sanitization.\nRECOMMENDATION: Deploy InjectionDetector for prompt injection protection.", "metadata": {"framework": "langchain", "article": 15, "compliance_state": "non_compliant", "template": "retrieval_qa"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 15 (Robustness & Input Validation) compliance.", "input": "from llama_index import GPTVectorStoreIndex, SimpleDirectoryReader\nfrom llama_index.chat_engine import ContextChatEngine\n\ndocuments = SimpleDirectoryReader(\"./data\").load_data()\nindex = GPTVectorStoreIndex.from_documents(documents)\nquery_engine = index.as_query_engine()\nresponse = query_engine.query(\"What is AI?\")", "output": "FINDING: Partial validation - coverage gaps detected.\nARTICLE: 15\nSEVERITY: MEDIUM\nEVIDENCE: Lines 17-35 validate some inputs but miss edge cases.\nRECOMMENDATION: Expand InjectionDetector coverage to all inputs.", "metadata": {"framework": "rag", "article": 15, "compliance_state": "partially_compliant", "template": "llamaindex_engine"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 14 (Human Oversight & Kill Switch) compliance.", "input": "from openai import OpenAI\n\nclient = OpenAI()\nassistant = client.beta.assistants.create(\n    name=\"AnalysisAgent\",\n    model=\"gpt-4\",\n    tools=[{{\"type\": \"code_interpreter\"}}, {{\"type\": \"retrieval\"}}]\n)\nthread = client.beta.threads.create()\nclient.beta.threads.messages.create(thread_id=thread.id, role=\"user\", content=\"What should I do?\")", "output": "PASS: Article 14 compliant - HITL with kill switch active.\nARTICLE: 14\nEVIDENCE: Lines 18-37 show human review queue and emergency stop.\nNOTE: All critical decisions require human approval.", "metadata": {"framework": "openai", "article": 14, "compliance_state": "compliant", "template": "assistants_api"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 12 (Record-Keeping & Audit Logging) compliance.", "input": "from langchain.chat_models import ChatOpenAI\nfrom langchain.schema.messages import HumanMessage\nfrom langchain_core.messages import BaseMessage\n\nclient = ChatOpenAI(model=\"claude-3-opus\", max_tokens=656)\nimage_url = \"https://example.com/image.jpg\"\nmessage = HumanMessage(\n    content=[\n        {{\"type\": \"image_url\", \"image_url\": {{\"url\": image_url}}}},\n        {{\"type\": \"text\", \"text\": \"Describe this image\"}}\n    ]\n)\nresponse = client([message])", "output": "FINDING: Code review for Article 12.\\nARTICLE: 12\\nEVIDENCE: Lines 28-48", "metadata": {"framework": "langchain_v2", "article": 12, "compliance_state": "non_compliant", "template": "multimodal_chain"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 11 (Technical Documentation) compliance.", "input": "import importlib;fw=importlib.import_module(\"langchain.agents\");ag=fw.initialize_agent(tools,llm,agent_type=\"zero-shot-react-description\");result=ag.run(user_query)", "output": "FINDING: Obfuscated code prevents decision documentation.\\nARTICLE: 11\\nSEVERITY: CRITICAL\\nEVIDENCE: Lines 15-30 use eval()/exec() preventing audit logging.\\nRECOMMENDATION: Replace dynamic code with explicit AuditLedger integration.", "metadata": {"framework": "obfuscated_code", "article": 11, "compliance_state": "non_compliant", "template": "dynamic_import"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 9 (Risk Management System) compliance.", "input": "from llama_index import GPTVectorStoreIndex, SimpleDirectoryReader\nfrom llama_index.chat_engine import ContextChatEngine\n\ndocuments = SimpleDirectoryReader(\"./data\").load_data()\nindex = GPTVectorStoreIndex.from_documents(documents)\nquery_engine = index.as_query_engine()\nresponse = query_engine.query(\"What is AI?\")", "output": "FINDING: Partial risk assessment - missing consent mechanism.\nARTICLE: 9\nSEVERITY: MEDIUM\nEVIDENCE: Lines 1-13 classify risk but lack user consent flow.\nRECOMMENDATION: Complete ConsentGate integration with user approval.", "metadata": {"framework": "rag", "article": 9, "compliance_state": "partially_compliant", "template": "llamaindex_engine"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 9 (Risk Management System) compliance.", "input": "from openai import OpenAI\n\nclient = OpenAI()\nassistant = client.beta.assistants.create(\n    name=\"DataAssistant\",\n    model=\"gpt-3.5-turbo\",\n    tools=[{{\"type\": \"code_interpreter\"}}, {{\"type\": \"retrieval\"}}]\n)\nthread = client.beta.threads.create()\nclient.beta.threads.messages.create(thread_id=thread.id, role=\"user\", content=\"Please help\")", "output": "FINDING: No risk classification or consent mechanism detected.\nARTICLE: 9\nSEVERITY: HIGH\nEVIDENCE: Lines 1-19 show direct LLM invocation without ConsentGate.\nRECOMMENDATION: Add ConsentGate risk assessment and user consent layer.", "metadata": {"framework": "openai", "article": 9, "compliance_state": "non_compliant", "template": "assistants_api"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 12 (Record-Keeping & Audit Logging) compliance.", "input": "from langchain.chat_models import ChatOpenAI\nfrom langchain.schema.messages import HumanMessage\nfrom langchain_core.messages import BaseMessage\n\nclient = ChatOpenAI(model=\"gpt-4\", max_tokens=847)\nimage_url = \"https://example.com/image.jpg\"\nmessage = HumanMessage(\n    content=[\n        {{\"type\": \"image_url\", \"image_url\": {{\"url\": image_url}}}},\n        {{\"type\": \"text\", \"text\": \"Describe this image\"}}\n    ]\n)\nresponse = client([message])", "output": "FINDING: Code review for Article 12.\\nARTICLE: 12\\nEVIDENCE: Lines 26-43", "metadata": {"framework": "langchain_v2", "article": 12, "compliance_state": "partially_compliant", "template": "multimodal_chain"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 12 (Record-Keeping & Audit Logging) compliance.", "input": "from autogen import AssistantAgent, UserProxyAgent\n\nassistant = AssistantAgent(name=\"assistant\", llm_config={{\"model\": \"llama-2-70b\"}})\nuser_proxy = UserProxyAgent(name=\"user\", code_execution_config={{\"work_dir\": \"./output\"}})\nuser_proxy.initiate_chat(assistant, message=\"Analyze this data\")", "output": "FINDING: Partial audit logging - HMAC chain incomplete.\nARTICLE: 12\nSEVERITY: MEDIUM\nEVIDENCE: Lines 8-28 log events but lack cryptographic integrity.\nRECOMMENDATION: Complete HMAC-SHA256 chain implementation.", "metadata": {"framework": "autogen", "article": 12, "compliance_state": "partially_compliant", "template": "two_agent"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 15 (Robustness & Input Validation) compliance.", "input": "from openai import OpenAI\n\nclient = OpenAI()\ntools = [{{\n    \"type\": \"function\",\n    \"function\": {{\"name\": \"analyze_text\", \"description\": \"Fetches data from source\"}}\n}}]\nresponse = client.chat.completions.create(\n    model=\"claude-2\",\n    messages=messages,\n    tools=tools,\n    tool_choice=\"auto\"\n)", "output": "PASS: Article 15 compliant - InjectionDetector active.\nARTICLE: 15\nEVIDENCE: Lines 11-22 detect and block prompt injections.\nNOTE: Input validation covers 15 injection patterns.", "metadata": {"framework": "openai", "article": 15, "compliance_state": "compliant", "template": "function_calling"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 9 (Risk Management System) compliance.", "input": "from crewai import Agent, Task, Crew, Tool\nfrom langchain.chat_models import ChatOpenAI\n\n@tool\ndef parse_document(input: str) -> str:\n    return process(input)\n\nllm = ChatOpenAI(model_name=\"gpt-4\")\nagent = Agent(role=\"Analyst\", tools=[parse_document], llm=llm)\ncrew = Crew(agents=[agent], tasks=[task])", "output": "FINDING: Partial risk assessment - missing consent mechanism.\nARTICLE: 9\nSEVERITY: MEDIUM\nEVIDENCE: Lines 11-18 classify risk but lack user consent flow.\nRECOMMENDATION: Complete ConsentGate integration with user approval.", "metadata": {"framework": "crewai", "article": 9, "compliance_state": "partially_compliant", "template": "custom_tools"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 10 (Data Governance & Privacy) compliance.", "input": "from autogen import AssistantAgent, UserProxyAgent, config_list_from_json\n\nconfig_list = [{{\"model\": \"gpt-4\", \"api_key\": \"sk-xxxxxxxxxxxxxxxxxxxx\"}}]\nassistant = AssistantAgent(\"coder\", llm_config={{\"config_list\": config_list}})\nuser_proxy = UserProxyAgent(\n    \"user\",\n    human_input_mode=\"TERMINATE\",\n    code_execution_config={{\n        \"work_dir\": \"./output\",\n        \"use_docker\": false\n    }}\n)\nuser_proxy.initiate_chat(assistant, message=\"Help with this task\")", "output": "FINDING: Code review for Article 10.\\nARTICLE: 10\\nEVIDENCE: Lines 8-28", "metadata": {"framework": "autogen_v2", "article": 10, "compliance_state": "partially_compliant", "template": "code_executor_agent"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 12 (Record-Keeping & Audit Logging) compliance.", "input": "from langchain.chat_models import ChatOpenAI\nfrom pydantic import BaseModel\n\nclass Output(BaseModel):\n    answer: str\n    details: str\n\nllm = ChatOpenAI(model=\"claude-3-opus\", temperature=0.9)\nstructured_llm = llm.with_structured_output(Output)\nresponse = structured_llm.invoke([{{\"role\": \"user\", \"content\": \"Analyze this data\"}}])", "output": "FINDING: Code review for Article 12.\\nARTICLE: 12\\nEVIDENCE: Lines 25-33", "metadata": {"framework": "langchain_v2", "article": 12, "compliance_state": "non_compliant", "template": "structured_output_chain"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 15 (Robustness & Input Validation) compliance.", "input": "from langchain.vectorstores import Chroma\nfrom langchain.embeddings import OpenAIEmbeddings\nfrom langchain.chat_models import ChatOpenAI\n\nembeddings = OpenAIEmbeddings(model=\"claude-3-opus\")\nvectorstore = Chroma.from_documents(docs, embeddings)\nretriever = vectorstore.as_retriever(search_kwargs={{\"k\": 4}})\nresults = retriever.get_relevant_documents(query)", "output": "FINDING: Partial validation - coverage gaps detected.\nARTICLE: 15\nSEVERITY: MEDIUM\nEVIDENCE: Lines 6-14 validate some inputs but miss edge cases.\nRECOMMENDATION: Expand InjectionDetector coverage to all inputs.", "metadata": {"framework": "rag", "article": 15, "compliance_state": "partially_compliant", "template": "chroma_rag"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 15 (Robustness & Input Validation) compliance.", "input": "from langchain.memory import ConversationBufferMemory\nfrom langchain.chains import ConversationChain\nfrom langchain.chat_models import ChatOpenAI\n\nllm = ChatOpenAI(model_name=\"claude-2\")\nmemory = ConversationBufferMemory()\nconversation = ConversationChain(llm=llm, memory=memory)\nresponse = conversation.predict(input=user_message)", "output": "FINDING: No input validation or injection detection.\nARTICLE: 15\nSEVERITY: CRITICAL\nEVIDENCE: Lines 24-35 accept user input without sanitization.\nRECOMMENDATION: Deploy InjectionDetector for prompt injection protection.", "metadata": {"framework": "langchain", "article": 15, "compliance_state": "non_compliant", "template": "memory_chain"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 14 (Human Oversight & Kill Switch) compliance.", "input": "from langchain.chat_models import ChatOpenAI\nfrom langchain.schema.messages import HumanMessage\nfrom langchain_core.messages import BaseMessage\n\nclient = ChatOpenAI(model=\"gpt-4\", max_tokens=705)\nimage_url = \"https://example.com/image.jpg\"\nmessage = HumanMessage(\n    content=[\n        {{\"type\": \"image_url\", \"image_url\": {{\"url\": image_url}}}},\n        {{\"type\": \"text\", \"text\": \"Describe this image\"}}\n    ]\n)\nresponse = client([message])", "output": "FINDING: Code review for Article 14.\\nARTICLE: 14\\nEVIDENCE: Lines 22-32", "metadata": {"framework": "langchain_v2", "article": 14, "compliance_state": "non_compliant", "template": "multimodal_chain"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 9 (Risk Management System) compliance.", "input": "from langchain.retrievers import BM25Retriever, MultiQueryRetriever\nfrom langchain.vectorstores import Chroma\nfrom langchain.embeddings import OpenAIEmbeddings\n\ndense_retriever = Chroma.from_documents(docs, OpenAIEmbeddings()).as_retriever()\nsparse_retriever = BM25Retriever.from_documents(docs)\nhybrid = MultiQueryRetriever(\n    retrievers=[dense_retriever, sparse_retriever],\n    llm=ChatOpenAI(model=\"gpt-4\")\n)\nresults = hybrid.get_relevant_documents(\"Summarize please\")", "output": "FINDING: Code review for Article 9.\\nARTICLE: 9\\nEVIDENCE: Lines 6-16", "metadata": {"framework": "rag_v2", "article": 9, "compliance_state": "non_compliant", "template": "hybrid_search"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 9 (Risk Management System) compliance.", "input": "from langchain.memory import ConversationBufferMemory\nfrom langchain.chains import ConversationChain\nfrom langchain.chat_models import ChatOpenAI\n\nllm = ChatOpenAI(model_name=\"llama-2-70b\")\nmemory = ConversationBufferMemory()\nconversation = ConversationChain(llm=llm, memory=memory)\nresponse = conversation.predict(input=user_message)", "output": "FINDING: Partial risk assessment - missing consent mechanism.\nARTICLE: 9\nSEVERITY: MEDIUM\nEVIDENCE: Lines 20-27 classify risk but lack user consent flow.\nRECOMMENDATION: Complete ConsentGate integration with user approval.", "metadata": {"framework": "langchain", "article": 9, "compliance_state": "partially_compliant", "template": "memory_chain"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 14 (Human Oversight & Kill Switch) compliance.", "input": "from autogen import AssistantAgent, UserProxyAgent\n\ntools = [{{\"name\": \"execute_query\", \"description\": \"A useful tool for processing\"}}]\nagent = AssistantAgent(\n    \"agent\",\n    llm_config={{\"model\": \"claude-3-opus\", \"tools\": tools}},\n    system_message=\"Use tools for: data analysis and retrieval\"\n)\nuser = UserProxyAgent(\"user\", code_execution_config={{\"work_dir\": \".\"}})\nuser.initiate_chat(agent, message=\"Help with this task\")", "output": "FINDING: Code review for Article 14.\\nARTICLE: 14\\nEVIDENCE: Lines 18-36", "metadata": {"framework": "autogen_v2", "article": 14, "compliance_state": "non_compliant", "template": "tool_use_agent"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 11 (Technical Documentation) compliance.", "input": "from openai import OpenAI\n\nclient = OpenAI()\nassistant = client.beta.assistants.create(\n    name=\"AnalysisAgent\",\n    model=\"llama-2-70b\",\n    tools=[{{\"type\": \"code_interpreter\"}}, {{\"type\": \"retrieval\"}}]\n)\nthread = client.beta.threads.create()\nclient.beta.threads.messages.create(thread_id=thread.id, role=\"user\", content=\"Please help\")", "output": "FINDING: No structured audit logging or documentation.\nARTICLE: 11\nSEVERITY: HIGH\nEVIDENCE: Lines 30-42 show tool execution without AuditLedger.\nRECOMMENDATION: Add AuditLedger with decision records and model cards.", "metadata": {"framework": "openai", "article": 11, "compliance_state": "non_compliant", "template": "assistants_api"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 10 (Data Governance & Privacy) compliance.", "input": "from crewai import Agent, Task, Crew\nfrom langchain.chat_models import ChatOpenAI\n\nllm = ChatOpenAI(model_name=\"llama-2-70b\")\nplanner = Agent(role=\"Planner\", goal=\"organize work\", llm=llm, allow_delegation=True)\nexecutor = Agent(role=\"Executor\", goal=\"execute tasks\", llm=llm)\ncrew = Crew(agents=[planner, executor], tasks=[t1, t2], process=sequential)\nresult = crew.kickoff()", "output": "PASS: Article 10 compliant - DataVault PII protection active.\nARTICLE: 10\nEVIDENCE: Lines 14-24 encrypt sensitive data and enforce governance.\nNOTE: PII detection and encryption verified.", "metadata": {"framework": "crewai", "article": 10, "compliance_state": "compliant", "template": "multi_agent_delegation"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 12 (Record-Keeping & Audit Logging) compliance.", "input": "from autogen import AssistantAgent, UserProxyAgent\n\ntools = [{{\n    \"type\": \"function\",\n    \"function\": {{\"name\": \"analyze_text\", \"description\": \"Fetches data from source\"}}\n}}]\nassistant = AssistantAgent(llm_config={{\"tools\": tools, \"model\": \"gpt-3.5-turbo\"}})\nuser_proxy = UserProxyAgent(code_execution_config={{\"work_dir\": \".\"}})", "output": "PASS: Article 12 compliant - HMAC audit chain active.\nARTICLE: 12\nEVIDENCE: Lines 14-25 maintain tamper-evident logs.\nNOTE: Cryptographic integrity verified via HMAC-SHA256.", "metadata": {"framework": "autogen", "article": 12, "compliance_state": "compliant", "template": "function_calling"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 14 (Human Oversight & Kill Switch) compliance.", "input": "from langchain.chains import RetrievalQA\nfrom langchain.vectorstores import Chroma\nfrom langchain.chat_models import ChatOpenAI\n\nvectorstore = Chroma.from_documents(docs, embeddings)\nllm = ChatOpenAI(model_name=\"claude-2\")\nqa_chain = RetrievalQA.from_chain_type(llm, retriever=vectorstore.as_retriever())\nanswer = qa_chain.run(query=user_question)", "output": "FINDING: No human oversight or kill switch.\nARTICLE: 14\nSEVERITY: HIGH\nEVIDENCE: Lines 7-21 show autonomous execution without HITL.\nRECOMMENDATION: Add ConsentGate with HITL queue and emergency kill switch.", "metadata": {"framework": "langchain", "article": 14, "compliance_state": "non_compliant", "template": "retrieval_qa"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 10 (Data Governance & Privacy) compliance.", "input": "from anthropic import Anthropic\n\ndef apply_guardrails(response_text):\n    blocked_patterns = [\"forbidden_word1\", \"forbidden_word2\", \"forbidden_word3\"]\n    for pattern in blocked_patterns:\n        if pattern.lower() in response_text.lower():\n            return None\n    return response_text\n\nclient = Anthropic()\nresponse = client.messages.create(\n    model=\"gpt-4\",\n    max_tokens=1237,\n    system=\"You are a helpful assistant. Do not violate these policies: no illegal content\",\n    messages=[{{\"role\": \"user\", \"content\": \"{prompt}\"}}]\n)\nsafe_response = apply_guardrails(response.content[0].text)", "output": "FINDING: Anthropic agent processes input without PII protection.\\nARTICLE: 10\\nSEVERITY: CRITICAL\\nEVIDENCE: Lines 14-33 pass user data directly to API.\\nRECOMMENDATION: Wrap with DataVault for PII detection and encryption.", "metadata": {"framework": "anthropic", "article": 10, "compliance_state": "partially_compliant", "template": "agent_with_guardrails"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 14 (Human Oversight & Kill Switch) compliance.", "input": "from langchain.vectorstores import FAISS\nfrom langchain.embeddings import OpenAIEmbeddings\n\nembeddings = OpenAIEmbeddings(model=\"llama-2-70b\")\nvectorstore = FAISS.from_documents(docs, embeddings)\nresults = vectorstore.similarity_search(query, k=4)", "output": "PASS: Article 14 compliant - HITL with kill switch active.\nARTICLE: 14\nEVIDENCE: Lines 5-13 show human review queue and emergency stop.\nNOTE: All critical decisions require human approval.", "metadata": {"framework": "rag", "article": 14, "compliance_state": "compliant", "template": "faiss_rag"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 15 (Robustness & Input Validation) compliance.", "input": "from crewai import Agent, Task, Crew\nfrom langchain.chat_models import ChatOpenAI\n\nllm = ChatOpenAI(model_name=\"llama-2-70b\")\nplanner = Agent(role=\"Planner\", goal=\"plan tasks\", llm=llm, allow_delegation=True)\nexecutor = Agent(role=\"Executor\", goal=\"execute tasks\", llm=llm)\ncrew = Crew(agents=[planner, executor], tasks=[t1, t2], process=sequential)\nresult = crew.kickoff()", "output": "PASS: Article 15 compliant - InjectionDetector active.\nARTICLE: 15\nEVIDENCE: Lines 18-31 detect and block prompt injections.\nNOTE: Input validation covers 15 injection patterns.", "metadata": {"framework": "crewai", "article": 15, "compliance_state": "compliant", "template": "multi_agent_delegation"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 14 (Human Oversight & Kill Switch) compliance.", "input": "from autogen import AssistantAgent, UserProxyAgent\n\ntools = [{{\n    \"type\": \"function\",\n    \"function\": {{\"name\": \"analyze_text\", \"description\": \"Fetches data from source\"}}\n}}]\nassistant = AssistantAgent(llm_config={{\"tools\": tools, \"model\": \"claude-2\"}})\nuser_proxy = UserProxyAgent(code_execution_config={{\"work_dir\": \".\"}})", "output": "FINDING: Partial oversight - kill switch missing.\nARTICLE: 14\nSEVERITY: MEDIUM\nEVIDENCE: Lines 26-39 have review queue but no emergency stop.\nRECOMMENDATION: Add kill switch capability to HITL system.", "metadata": {"framework": "autogen", "article": 14, "compliance_state": "partially_compliant", "template": "function_calling"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 11 (Technical Documentation) compliance.", "input": "from autogen import AssistantAgent, UserProxyAgent\n\nassistant = AssistantAgent(name=\"assistant\", llm_config={{\"model\": \"llama-2-70b\"}})\nuser_proxy = UserProxyAgent(name=\"user\", code_execution_config={{\"work_dir\": \"./work\"}})\nuser_proxy.initiate_chat(assistant, message=\"What do you think?\")", "output": "FINDING: No structured audit logging or documentation.\nARTICLE: 11\nSEVERITY: HIGH\nEVIDENCE: Lines 4-15 show tool execution without AuditLedger.\nRECOMMENDATION: Add AuditLedger with decision records and model cards.", "metadata": {"framework": "autogen", "article": 11, "compliance_state": "non_compliant", "template": "two_agent"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 9 (Risk Management System) compliance.", "input": "from openai import OpenAI\n\nclient = OpenAI(api_key=\"sk-xxxxxxxxxxxxxxxxxxxx\")\nresponse = client.chat.completions.create(\n    model=\"claude-2\",\n    messages=[{{\"role\": \"user\", \"content\": \"How to build agents?\"}}],\n    temperature=0.9\n)", "output": "FINDING: Partial risk assessment - missing consent mechanism.\nARTICLE: 9\nSEVERITY: MEDIUM\nEVIDENCE: Lines 20-38 classify risk but lack user consent flow.\nRECOMMENDATION: Complete ConsentGate integration with user approval.", "metadata": {"framework": "openai", "article": 9, "compliance_state": "partially_compliant", "template": "chat_completions"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 14 (Human Oversight & Kill Switch) compliance.", "input": "from openai import OpenAI\n\nclient = OpenAI()\nassistant = client.beta.assistants.create(\n    name=\"AnalysisAgent\",\n    model=\"claude-2\",\n    tools=[{{\"type\": \"code_interpreter\"}}, {{\"type\": \"retrieval\"}}]\n)\nthread = client.beta.threads.create()\nclient.beta.threads.messages.create(thread_id=thread.id, role=\"user\", content=\"Please help\")", "output": "FINDING: No human oversight or kill switch.\nARTICLE: 14\nSEVERITY: HIGH\nEVIDENCE: Lines 21-29 show autonomous execution without HITL.\nRECOMMENDATION: Add ConsentGate with HITL queue and emergency kill switch.", "metadata": {"framework": "openai", "article": 14, "compliance_state": "non_compliant", "template": "assistants_api"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 9 (Risk Management System) compliance.", "input": "from langchain.chat_models import ChatOpenAI\nfrom pydantic import BaseModel\n\nclass Response(BaseModel):\n    summary: str\n    details: str\n\nllm = ChatOpenAI(model=\"claude-3-opus\", temperature=0.7)\nstructured_llm = llm.with_structured_output(Response)\nresponse = structured_llm.invoke([{{\"role\": \"user\", \"content\": \"What is this?\"}}])", "output": "FINDING: Code review for Article 9.\\nARTICLE: 9\\nEVIDENCE: Lines 21-29", "metadata": {"framework": "langchain_v2", "article": 9, "compliance_state": "partially_compliant", "template": "structured_output_chain"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 10 (Data Governance & Privacy) compliance.", "input": "from langchain.vectorstores import Chroma\nfrom langchain.embeddings import OpenAIEmbeddings\nfrom langchain.chat_models import ChatOpenAI\n\nembeddings = OpenAIEmbeddings(model=\"gpt-4\")\nvectorstore = Chroma.from_documents(docs, embeddings)\nretriever = vectorstore.as_retriever(search_kwargs={{\"k\": 3}})\nresults = retriever.get_relevant_documents(query)", "output": "PASS: Article 10 compliant - DataVault PII protection active.\nARTICLE: 10\nEVIDENCE: Lines 21-28 encrypt sensitive data and enforce governance.\nNOTE: PII detection and encryption verified.", "metadata": {"framework": "rag", "article": 10, "compliance_state": "compliant", "template": "chroma_rag"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 11 (Technical Documentation) compliance.", "input": "from langchain.agents import initialize_agent, load_tools\nfrom langchain.chat_models import ChatOpenAI\n\nllm = ChatOpenAI(model_name=\"claude-3-opus\", temperature=0.9)\ntools = load_tools([\"weather\", \"api\"])\nagent = initialize_agent(tools, llm, agent=\"chat-zero-shot-react-description\")\nresponse = agent.run(input=user_query)", "output": "FINDING: No structured audit logging or documentation.\nARTICLE: 11\nSEVERITY: HIGH\nEVIDENCE: Lines 17-33 show tool execution without AuditLedger.\nRECOMMENDATION: Add AuditLedger with decision records and model cards.", "metadata": {"framework": "langchain", "article": 11, "compliance_state": "non_compliant", "template": "agent_executor"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 14 (Human Oversight & Kill Switch) compliance.", "input": "from crewai import Agent, Task, Crew, Tool\nfrom langchain.chat_models import ChatOpenAI\n\n@tool\ndef execute_query(input: str) -> str:\n    return process(input)\n\nllm = ChatOpenAI(model_name=\"claude-2\")\nagent = Agent(role=\"Analyst\", tools=[execute_query], llm=llm)\ncrew = Crew(agents=[agent], tasks=[task])", "output": "FINDING: No human oversight or kill switch.\nARTICLE: 14\nSEVERITY: HIGH\nEVIDENCE: Lines 15-25 show autonomous execution without HITL.\nRECOMMENDATION: Add ConsentGate with HITL queue and emergency kill switch.", "metadata": {"framework": "crewai", "article": 14, "compliance_state": "non_compliant", "template": "custom_tools"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 9 (Risk Management System) compliance.", "input": "from crewai import Agent, Task, Crew\nfrom langchain.chat_models import ChatOpenAI\n\nllm = ChatOpenAI(model_name=\"claude-2\")\nplanner = Agent(role=\"Planner\", goal=\"plan tasks\", llm=llm, allow_delegation=True)\nexecutor = Agent(role=\"Executor\", goal=\"execute tasks\", llm=llm)\ncrew = Crew(agents=[planner, executor], tasks=[t1, t2], process=sequential)\nresult = crew.kickoff()", "output": "PASS: Article 9 compliant - ConsentGate risk assessment active.\nARTICLE: 9\nEVIDENCE: Lines 5-16 show risk classification and user consent.\nNOTE: All high-risk operations require explicit user approval.", "metadata": {"framework": "crewai", "article": 9, "compliance_state": "compliant", "template": "multi_agent_delegation"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 14 (Human Oversight & Kill Switch) compliance.", "input": "from langchain.agents import initialize_agent\nfrom autogen import AssistantAgent\n\n# LangChain component\nlc_chain = initialize_agent(tools, llm, agent=\"zero-shot-react-description\")\n\n# AutoGen component\nautogen_agent = AssistantAgent(\"helper\", llm_config={{\"model\": \"gpt-4\"}})\n\n# Mixed execution\nlc_result = lc_chain.run(query)\nautogen_result = autogen_agent.generate_reply(messages=[{{\"role\": \"user\", \"content\": lc_result}}])", "output": "FINDING: Mixed framework oversight is fragmented.\\nARTICLE: 14\\nSEVERITY: HIGH\\nEVIDENCE: Lines 13-27 show autonomous execution across frameworks without HITL.\\nRECOMMENDATION: Implement unified HITL and kill switch for mixed execution.", "metadata": {"framework": "mixed_framework", "article": 14, "compliance_state": "non_compliant", "template": "langchain_with_autogen"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 9 (Risk Management System) compliance.", "input": "import importlib;fw=importlib.import_module(\"langchain.agents\");ag=fw.initialize_agent(tools,llm,agent_type=\"zero-shot-react-description\");result=ag.run(user_query)", "output": "FINDING: Obfuscated code prevents risk assessment.\\nARTICLE: 9\\nSEVERITY: CRITICAL\\nEVIDENCE: Lines 28-38 use minification/obfuscation preventing analysis.\\nRECOMMENDATION: Provide source code and implement transparent ConsentGate.", "metadata": {"framework": "obfuscated_code", "article": 9, "compliance_state": "non_compliant", "template": "dynamic_import"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 9 (Risk Management System) compliance.", "input": "from langchain.vectorstores import Chroma\nfrom langchain.embeddings import OpenAIEmbeddings\nfrom langchain.chat_models import ChatOpenAI\n\nembeddings = OpenAIEmbeddings(model=\"gpt-4\")\nvectorstore = Chroma.from_documents(docs, embeddings)\nretriever = vectorstore.as_retriever(search_kwargs={{\"k\": 8}})\nresults = retriever.get_relevant_documents(query)", "output": "FINDING: Partial risk assessment - missing consent mechanism.\nARTICLE: 9\nSEVERITY: MEDIUM\nEVIDENCE: Lines 13-31 classify risk but lack user consent flow.\nRECOMMENDATION: Complete ConsentGate integration with user approval.", "metadata": {"framework": "rag", "article": 9, "compliance_state": "partially_compliant", "template": "chroma_rag"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 10 (Data Governance & Privacy) compliance.", "input": "from langchain.chat_models import ChatOpenAI\nfrom langchain.chains import LLMChain\nfrom langchain.prompts import ChatPromptTemplate\n\nllm = ChatOpenAI(model_name=\"claude-3-opus\", temperature=0.7)\nprompt = ChatPromptTemplate.from_template(\"{{input}}\")\nchain = LLMChain(llm=llm, prompt=prompt)\nresult = chain.run(input=user_input)", "output": "FINDING: No PII protection or data governance detected.\nARTICLE: 10\nSEVERITY: CRITICAL\nEVIDENCE: Lines 16-33 process user input without DataVault protection.\nRECOMMENDATION: Implement DataVault for PII detection and encryption.", "metadata": {"framework": "langchain", "article": 10, "compliance_state": "non_compliant", "template": "basic_chain"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 9 (Risk Management System) compliance.", "input": "from llama_index import GPTVectorStoreIndex, SimpleDirectoryReader\nfrom llama_index.chat_engine import ContextChatEngine\n\ndocuments = SimpleDirectoryReader(\"./corpus\").load_data()\nindex = GPTVectorStoreIndex.from_documents(documents)\nquery_engine = index.as_query_engine()\nresponse = query_engine.query(\"What is AI?\")", "output": "FINDING: No risk classification or consent mechanism detected.\nARTICLE: 9\nSEVERITY: HIGH\nEVIDENCE: Lines 18-26 show direct LLM invocation without ConsentGate.\nRECOMMENDATION: Add ConsentGate risk assessment and user consent layer.", "metadata": {"framework": "rag", "article": 9, "compliance_state": "non_compliant", "template": "llamaindex_engine"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 12 (Record-Keeping & Audit Logging) compliance.", "input": "from crewai import Agent, Task, Crew\nfrom openai import OpenAI\n\n# CrewAI component\ncrew_agent = Agent(role=\"Analyzer\", goal=\"Analyze data\")\ncrew = Crew(agents=[crew_agent], tasks=[task])\n\n# Direct OpenAI streaming\nclient = OpenAI()\nstream = client.chat.completions.create(\n    model=\"gpt-4\",\n    messages=[{{\"role\": \"user\", \"content\": crew.kickoff()}}],\n    stream=True\n)", "output": "FINDING: Mixed framework has no unified audit chain.\\nARTICLE: 12\\nSEVERITY: HIGH\\nEVIDENCE: Lines 29-41 show separate audit logs without HMAC chain.\\nRECOMMENDATION: Create unified HMAC-SHA256 audit chain across frameworks.", "metadata": {"framework": "mixed_framework", "article": 12, "compliance_state": "non_compliant", "template": "crewai_with_openai_streaming"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 15 (Robustness & Input Validation) compliance.", "input": "from llama_index import GPTVectorStoreIndex, SimpleDirectoryReader\nfrom llama_index.chat_engine import ContextChatEngine\n\ndocuments = SimpleDirectoryReader(\"./documents\").load_data()\nindex = GPTVectorStoreIndex.from_documents(documents)\nquery_engine = index.as_query_engine()\nresponse = query_engine.query(\"What is AI?\")", "output": "FINDING: No input validation or injection detection.\nARTICLE: 15\nSEVERITY: CRITICAL\nEVIDENCE: Lines 22-42 accept user input without sanitization.\nRECOMMENDATION: Deploy InjectionDetector for prompt injection protection.", "metadata": {"framework": "rag", "article": 15, "compliance_state": "non_compliant", "template": "llamaindex_engine"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 14 (Human Oversight & Kill Switch) compliance.", "input": "from autogen import AssistantAgent, UserProxyAgent\n\ntools = [{{\n    \"type\": \"function\",\n    \"function\": {{\"name\": \"get_data\", \"description\": \"Fetches data from source\"}}\n}}]\nassistant = AssistantAgent(llm_config={{\"tools\": tools, \"model\": \"llama-2-70b\"}})\nuser_proxy = UserProxyAgent(code_execution_config={{\"work_dir\": \".\"}})", "output": "PASS: Article 14 compliant - HITL with kill switch active.\nARTICLE: 14\nEVIDENCE: Lines 25-43 show human review queue and emergency stop.\nNOTE: All critical decisions require human approval.", "metadata": {"framework": "autogen", "article": 14, "compliance_state": "compliant", "template": "function_calling"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 15 (Robustness & Input Validation) compliance.", "input": "from anthropic import Anthropic\n\ndef apply_guardrails(response_text):\n    blocked_patterns = [\"forbidden_word1\", \"forbidden_word2\", \"forbidden_word3\"]\n    for pattern in blocked_patterns:\n        if pattern.lower() in response_text.lower():\n            return None\n    return response_text\n\nclient = Anthropic()\nresponse = client.messages.create(\n    model=\"gpt-4\",\n    max_tokens=471,\n    system=\"You are a helpful assistant. Do not violate these policies: no illegal content\",\n    messages=[{{\"role\": \"user\", \"content\": \"{prompt}\"}}]\n)\nsafe_response = apply_guardrails(response.content[0].text)", "output": "FINDING: Agent input validation missing injection detection.\\nARTICLE: 15\\nSEVERITY: CRITICAL\\nEVIDENCE: Lines 23-32 accept user input without InjectionDetector.\\nRECOMMENDATION: Deploy InjectionDetector for prompt injection protection.", "metadata": {"framework": "anthropic", "article": 15, "compliance_state": "compliant", "template": "agent_with_guardrails"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 11 (Technical Documentation) compliance.", "input": "from autogen import AssistantAgent, UserProxyAgent\n\nassistant = AssistantAgent(name=\"assistant\", llm_config={{\"model\": \"gpt-3.5-turbo\"}})\nuser_proxy = UserProxyAgent(name=\"user\", code_execution_config={{\"work_dir\": \"./output\"}})\nuser_proxy.initiate_chat(assistant, message=\"What do you think?\")", "output": "FINDING: Partial documentation - missing decision records.\nARTICLE: 11\nSEVERITY: MEDIUM\nEVIDENCE: Lines 28-37 log actions but lack structured decision info.\nRECOMMENDATION: Enhance AuditLedger with complete decision records.", "metadata": {"framework": "autogen", "article": 11, "compliance_state": "partially_compliant", "template": "two_agent"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 12 (Record-Keeping & Audit Logging) compliance.", "input": "from langchain.retrievers import MultiRetriever\nfrom langchain.vectorstores import Chroma, FAISS\nfrom langchain.embeddings import OpenAIEmbeddings\n\nembeddings = OpenAIEmbeddings(model=\"gpt-4\")\nchroma_retriever = Chroma.from_documents(docs, embeddings).as_retriever(search_kwargs={{\"k\": 3}})\nfaiss_retriever = FAISS.from_documents(docs, embeddings).as_retriever(search_kwargs={{\"k\": 3}})\nmulti = MultiRetriever(retrievers=[chroma_retriever, faiss_retriever])\nresults = multi.get_relevant_documents(\"How does this work?\")", "output": "FINDING: Code review for Article 12.\\nARTICLE: 12\\nEVIDENCE: Lines 21-37", "metadata": {"framework": "rag_v2", "article": 12, "compliance_state": "non_compliant", "template": "multi_retriever"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 15 (Robustness & Input Validation) compliance.", "input": "from autogen import AssistantAgent, UserProxyAgent, GroupChat, GroupChatManager\n\nagents = [\n    AssistantAgent(name=\"agent1\", llm_config={{\"model\": \"llama-2-70b\"}}),\n    AssistantAgent(name=\"agent2\", llm_config={{\"model\": \"llama-2-70b\"}})\n]\ngroup_chat = GroupChat(agents=agents, messages=[], max_round=7)\nmanager = GroupChatManager(groupchat=group_chat)\nuser_proxy.initiate_chat(manager, message=\"What do you think?\")", "output": "FINDING: Partial validation - coverage gaps detected.\nARTICLE: 15\nSEVERITY: MEDIUM\nEVIDENCE: Lines 21-31 validate some inputs but miss edge cases.\nRECOMMENDATION: Expand InjectionDetector coverage to all inputs.", "metadata": {"framework": "autogen", "article": 15, "compliance_state": "partially_compliant", "template": "group_chat"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 12 (Record-Keeping & Audit Logging) compliance.", "input": "from crewai import Agent, Task, Crew, Tool\nfrom langchain.chat_models import ChatOpenAI\n\n@tool\ndef parse_document(input: str) -> str:\n    return process(input)\n\nllm = ChatOpenAI(model_name=\"claude-2\")\nagent = Agent(role=\"Researcher\", tools=[parse_document], llm=llm)\ncrew = Crew(agents=[agent], tasks=[task])", "output": "FINDING: Partial audit logging - HMAC chain incomplete.\nARTICLE: 12\nSEVERITY: MEDIUM\nEVIDENCE: Lines 3-19 log events but lack cryptographic integrity.\nRECOMMENDATION: Complete HMAC-SHA256 chain implementation.", "metadata": {"framework": "crewai", "article": 12, "compliance_state": "partially_compliant", "template": "custom_tools"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 12 (Record-Keeping & Audit Logging) compliance.", "input": "from langchain.memory import ConversationBufferMemory\nfrom langchain.chains import ConversationChain\nfrom langchain.chat_models import ChatOpenAI\n\nllm = ChatOpenAI(model_name=\"claude-3-opus\")\nmemory = ConversationBufferMemory()\nconversation = ConversationChain(llm=llm, memory=memory)\nresponse = conversation.predict(input=user_message)", "output": "PASS: Article 12 compliant - HMAC audit chain active.\nARTICLE: 12\nEVIDENCE: Lines 17-34 maintain tamper-evident logs.\nNOTE: Cryptographic integrity verified via HMAC-SHA256.", "metadata": {"framework": "langchain", "article": 12, "compliance_state": "compliant", "template": "memory_chain"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 12 (Record-Keeping & Audit Logging) compliance.", "input": "from langchain.agents import*;from langchain.chat_models import*;l=ChatOpenAI(model=\"gpt-4\");t=load_tools([\"search\"]);a=initialize_agent(t,l,agent=\"zero-shot\");r=a.run(\"query\")", "output": "FINDING: Obfuscated code prevents audit chain.\\nARTICLE: 12\\nSEVERITY: CRITICAL\\nEVIDENCE: Lines 26-37 dynamically execute code preventing HMAC logging.\\nRECOMMENDATION: Use transparent code with cryptographically signed audit logs.", "metadata": {"framework": "obfuscated_code", "article": 12, "compliance_state": "non_compliant", "template": "minified_agent"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 11 (Technical Documentation) compliance.", "input": "from crewai import Agent, Task, Crew, Tool\nfrom langchain.chat_models import ChatOpenAI\n\n@tool\ndef execute_query(input: str) -> str:\n    return process(input)\n\nllm = ChatOpenAI(model_name=\"gpt-4\")\nagent = Agent(role=\"Developer\", tools=[execute_query], llm=llm)\ncrew = Crew(agents=[agent], tasks=[task])", "output": "PASS: Article 11 compliant - AuditLedger documentation active.\nARTICLE: 11\nEVIDENCE: Lines 23-36 record decisions with full context.\nNOTE: Model cards and decision trees documented.", "metadata": {"framework": "crewai", "article": 11, "compliance_state": "compliant", "template": "custom_tools"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 14 (Human Oversight & Kill Switch) compliance.", "input": "from anthropic import Anthropic\n\nclient = Anthropic()\nstate = {{\"current_agent\": \"agent1\", \"task\": \"make decision\", \"status\": \"pending\"}}\n\nwhile state[\"status\"] != \"complete\":\n    response = client.messages.create(\n        model=\"claude-2\",\n        max_tokens=1380,\n        system=\"You are Researcher\",\n        messages=[{{\"role\": \"user\", \"content\": state[\"task\"]}}]\n    )\n    state[\"response\"] = response.content[0].text\n    state[\"current_agent\"] = \"agent2\" if state[\"current_agent\"] == \"agent1\" else \"agent1\"", "output": "FINDING: Agent executes without human oversight.\\nARTICLE: 14\\nSEVERITY: HIGH\\nEVIDENCE: Lines 27-36 show autonomous execution without HITL.\\nRECOMMENDATION: Add HITL queue and emergency kill switch.", "metadata": {"framework": "anthropic", "article": 14, "compliance_state": "partially_compliant", "template": "multi_agent_handoff"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 11 (Technical Documentation) compliance.", "input": "from crewai import Agent, Task, Crew\nfrom langchain.chat_models import ChatOpenAI\n\nllm = ChatOpenAI(model_name=\"gpt-4\")\nplanner = Agent(role=\"Planner\", goal=\"plan tasks\", llm=llm, allow_delegation=True)\nexecutor = Agent(role=\"Executor\", goal=\"execute tasks\", llm=llm)\ncrew = Crew(agents=[planner, executor], tasks=[t1, t2], process=sequential)\nresult = crew.kickoff()", "output": "FINDING: Partial documentation - missing decision records.\nARTICLE: 11\nSEVERITY: MEDIUM\nEVIDENCE: Lines 13-33 log actions but lack structured decision info.\nRECOMMENDATION: Enhance AuditLedger with complete decision records.", "metadata": {"framework": "crewai", "article": 11, "compliance_state": "partially_compliant", "template": "multi_agent_delegation"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 15 (Robustness & Input Validation) compliance.", "input": "from crewai import Agent, Task, Crew\nfrom langchain.chat_models import ChatOpenAI\n\nllm = ChatOpenAI(model=\"claude-3-opus\")\nagents = [\n    Agent(role=\"Researcher\", goal=\"Research topic\", llm=llm),\n    Agent(role=\"Implementer\", goal=\"Implement solution\", llm=llm)\n]\ntasks = [\n    Task(description=\"Research component\", agent=agents[0]),\n    Task(description=\"Build component\", agent=agents[1])\n]\ncrew = Crew(agents=agents, tasks=tasks, process=\"sequential\")\nresult = crew.kickoff()", "output": "FINDING: Code review for Article 15.\\nARTICLE: 15\\nEVIDENCE: Lines 3-13", "metadata": {"framework": "crewai_v2", "article": 15, "compliance_state": "partially_compliant", "template": "sequential_crew"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 12 (Record-Keeping & Audit Logging) compliance.", "input": "from langchain.agents import initialize_agent, load_tools\nfrom langchain.chat_models import ChatOpenAI\n\nllm = ChatOpenAI(model_name=\"gpt-3.5-turbo\", temperature=0.3)\ntools = load_tools([\"calculator\", \"database\"])\nagent = initialize_agent(tools, llm, agent=\"chat-zero-shot-react-description\")\nresponse = agent.run(input=user_query)", "output": "PASS: Article 12 compliant - HMAC audit chain active.\nARTICLE: 12\nEVIDENCE: Lines 2-19 maintain tamper-evident logs.\nNOTE: Cryptographic integrity verified via HMAC-SHA256.", "metadata": {"framework": "langchain", "article": 12, "compliance_state": "compliant", "template": "agent_executor"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 11 (Technical Documentation) compliance.", "input": "from openai import OpenAI\n\nclient = OpenAI()\ntools = [{{\n    \"type\": \"function\",\n    \"function\": {{\"name\": \"get_data\", \"description\": \"Analyzes text content\"}}\n}}]\nresponse = client.chat.completions.create(\n    model=\"gpt-3.5-turbo\",\n    messages=messages,\n    tools=tools,\n    tool_choice=\"auto\"\n)", "output": "FINDING: No structured audit logging or documentation.\nARTICLE: 11\nSEVERITY: HIGH\nEVIDENCE: Lines 26-33 show tool execution without AuditLedger.\nRECOMMENDATION: Add AuditLedger with decision records and model cards.", "metadata": {"framework": "openai", "article": 11, "compliance_state": "non_compliant", "template": "function_calling"}}
{"instruction": "Analyze this Python AI agent code for EU AI Act Article 11 (Technical Documentation) compliance.", "input": "from langchain.vectorstores import FAISS\nfrom langchain.embeddings import OpenAIEmbeddings\n\nembeddings = OpenAIEmbeddings(model=\"gpt-3.5-turbo\")\nvectorstore = FAISS.from_documents(docs, embeddings)\nresults = vectorstore.similarity_search(query, k=6)", "output": "FINDING: Partial documentation - missing decision records.\nARTICLE: 11\nSEVERITY: MEDIUM\nEVIDENCE: Lines 28-39 log actions but lack structured decision info.\nRECOMMENDATION: Enhance AuditLedger with complete decision records.", "metadata": {"framework": "rag", "article": 11, "compliance_state": "partially_compliant", "template": "faiss_rag"}}
